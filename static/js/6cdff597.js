var e=Object.defineProperty,l=(l,a,s)=>(((l,a,s)=>{a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[a]=s})(l,"symbol"!=typeof a?a+"":a,s),s);import{j as a,r as s}from"./63eebe13.js";import{c}from"./10322d52.js";import{u as i,T as r,D as t,I as n,B as d,A as o,a as m,C as h,b as x,c as g,P as v,d as N,R as u,e as f,f as p,g as w,h as y,M as b,S as A}from"./98b917df.js";import{b as I}from"./4326f4f8.js";import{a as k}from"./a8ee11a1.js";import{u as C,a as S,b as L}from"./dfe7ac38.js";import{L as M,R as D,S as j,H as R,C as G,a as O,b as U,c as T,B as z,d as B,O as E,e as Z,E as Y,I as J,f as Q,g as K,h as F,A as H,i as W,N as P,j as X,T as V,k as $,F as q,l as _,m as ee,n as le,D as ae,o as se,p as ce,q as ie,P as re,r as te}from"./84f29ec5.js";import{o as ne}from"./e90285f9.js";import{H as de}from"./905f201a.js";/* empty css        */import"./4d0ffb58.js";import"./c51d43b5.js";import"./c5acfea1.js";import"./25f942a5.js";import"./be2fa48a.js";import"./18c268dd.js";import"./190f51f5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))l(e);new MutationObserver((e=>{for(const a of e)if("childList"===a.type)for(const e of a.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&l(e)})).observe(document,{childList:!0,subtree:!0})}function l(e){if(e.ep)return;e.ep=!0;const l=function(e){const l={};return e.integrity&&(l.integrity=e.integrity),e.referrerPolicy&&(l.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?l.credentials="include":"anonymous"===e.crossOrigin?l.credentials="omit":l.credentials="same-origin",l}(e);fetch(e.href,l)}}();const oe=a.Fragment,me=a.jsx,he=a.jsxs,xe=e=>{const l=localStorage.getItem(e);if(l)return JSON.parse(l)},ge=(e,l)=>localStorage.setItem(e,JSON.stringify(l)),ve=e=>{const l=sessionStorage.getItem(e);if(l)return JSON.parse(l)};const Ne=new class{constructor(){l(this,"_user"),I(this)}get user(){return this._user}set user(e){this._user=e}},ue=()=>{const e=C(),l=s.useRef(null),[a,c]=s.useState(""),[v,N]=s.useState(!1),[u,f]=s.useState(!1),[p,w]=s.useState(),[y,b]=s.useState(),A=async(l,a)=>{var s,c;ge("LastLogin",{cred:l,user:a}),s="CurrentLogin",c={cred:l,user:a},sessionStorage.setItem(s,JSON.stringify(c)),Ne.user=a,e("/binding")};s.useEffect((()=>{f(32!==a.length)}),[a]),i((()=>{b(xe("LastLogin"))}));const I=me(oe,{children:he("div",{className:"flex flex-column surface-0 border-round-lg gap-2 p-2",children:[me(x,{severity:"success",children:"方法一"}),he("div",{className:"flex align-items-center gap-1",children:[me("div",{children:"1. 打开"}),me(d,{className:"px-1 py-0",icon:me(M,{className:"mr-2",size:20}),label:"森空岛网页版",text:!0,onClick:()=>open("https://www.skland.com/")}),me("div",{children:"并登录。"})]}),he("div",{className:"flex align-items-center gap-1",children:[me("div",{children:"2. 打开网页开发工具并切换到"}),me(x,{children:"应用程序"}),me("div",{children:"选项卡"})]}),he("div",{className:"flex align-items-center gap-1",children:[me("div",{children:"3. 选择"}),he(x,{children:["存储 ","->"," 本地存储 ","->"," https://www.skland.com"]})]}),he("div",{className:"flex align-items-center gap-1",children:[me("div",{children:"4. 右侧面板中"}),me(x,{children:"SK_OAUTH_CRED_KEY"}),me("div",{children:"的值就是您的凭据。"})]}),me(x,{severity:"success",children:"方法二"}),he("div",{className:"flex align-items-center gap-1",children:[me("div",{children:"1. 打开"}),me(d,{className:"px-1 py-0",icon:me(M,{className:"mr-2",size:20}),label:"森空岛网页版",text:!0,onClick:()=>open("https://www.skland.com/")}),me("div",{children:"并登录。"})]}),he("div",{className:"flex align-items-center gap-1",children:[me("div",{children:"2. 打开网页开发工具并切换到"}),me(x,{children:"控制台"}),me("div",{children:"选项卡"})]}),he("div",{className:"flex flex-column gap-1",children:[me("div",{children:"3. 在控制台中输入以下内容并回车："}),me(g,{value:'localStorage.getItem("SK_OAUTH_CRED_KEY");',autoResize:!0,readOnly:!0,rows:1})]}),me("div",{className:"flex",children:"4. 控制台返回的值就是您的凭据。"}),me(x,{severity:"success",children:"方法三"}),he("div",{className:"flex align-items-center gap-1",children:[me("div",{children:"1. 打开"}),me(d,{className:"px-1 py-0",icon:me(M,{className:"mr-2",size:20}),label:"森空岛网页版",text:!0,onClick:()=>open("https://www.skland.com/")}),me("div",{children:"并登录。"})]}),he("div",{className:"flex flex-column gap-1",children:[me("div",{children:"2. 在浏览器地址栏中输入以下内容并回车："}),me(g,{value:'javascript:prompt(undefined, localStorage.getItem("SK_OAUTH_CRED_KEY"));',autoResize:!0,readOnly:!0})]}),me("div",{className:"flex",children:"3. 浏览器弹出的对话框内的值就是您的凭据。"}),me(x,{severity:"warning",children:"请妥善保管您的凭据，切勿透露给他人！"})]})});return he("div",{className:"flex flex-column surface-card border-round-xl",children:[me(r,{ref:l,position:"bottom-right"}),he("div",{className:"flex align-items-baseline gap-2 p-3 select-none",children:[me("div",{className:"text-xl",children:"凭据"}),me("div",{className:"text-sm",children:"CREDENTIALS"})]}),me(t,{className:"m-0"}),he("div",{className:"flex",children:[he("div",{className:"flex flex-column flex-shrink-0 w-6 gap-2 p-3 select-none",children:[!p&&he(oe,{children:[me("div",{className:"text-sm",children:"输入凭据"}),he("div",{className:"p-inputgroup",children:[me(n,{value:a,onChange:e=>c(e.target.value),keyfilter:/\w/,type:"password",maxLength:32,readOnly:v}),me(d,{icon:me(o,{}),loading:v,onClick:async()=>{var e,s;if(32===a.length){N(!0),w(void 0);try{w(await(async e=>{const l={url:"/api/v1/user/me",headers:{cred:e}},{data:{data:a}}=await k(l);return a})(a))}catch(c){const a=c;switch(a.code){case"ERR_NETWORK":null==(e=l.current)||e.show({severity:"error",summary:a.code,detail:"网络异常"});break;case"ERR_BAD_REQUEST":null==(s=l.current)||s.show({severity:"error",summary:a.code,detail:"无效凭据"})}}finally{N(!1)}}},disabled:u})]})]}),p&&he(oe,{children:[me("div",{className:"text-sm",children:"确认账户"}),he("div",{className:"flex align-items-center surface-0 border-round-lg gap-2 p-2",children:[me("div",{className:"flex surface-d border-round-lg overflow-hidden",children:me(m,{image:p.user.avatar})}),me("div",{className:"text-lg",children:p.user.nickname}),me("div",{className:"flex-grow-1"}),me(d,{className:"w-2rem h-2rem",severity:"success",icon:me(h,{}),onClick:()=>A(a,p)})]}),me("div",{className:"flex justify-content-end",children:me(d,{className:"text-xs p-0",severity:"danger",label:"返回上一步",text:!0,onClick:()=>w(void 0)})})]}),y&&he(oe,{children:[me("div",{className:"text-sm",children:"上次登录"}),he("div",{className:"flex align-items-center surface-0 border-round-lg gap-2 p-2",children:[me("div",{className:"flex surface-d border-round-lg overflow-hidden",children:me(m,{image:y.user.user.avatar})}),me("div",{className:"text-lg",children:y.user.user.nickname}),me("div",{className:"flex-grow-1"}),me(d,{className:"w-2rem h-2rem",severity:"success",icon:me(h,{}),onClick:()=>A(y.cred,y.user)})]}),me("div",{className:"flex justify-content-end",children:me(d,{className:"text-xs p-0",severity:"danger",label:"清除登录记录",text:!0,onClick:()=>{var e;e="LastLogin",localStorage.removeItem(e),b(void 0)}})})]})]}),me(t,{className:"m-0",layout:"vertical"}),he("div",{className:"flex flex-column w-6 gap-2 p-3 select-none",children:[me("div",{className:"text-sm",children:"如何获取凭据"}),I]})]})]})},fe=({value:e})=>{const l=C();return he("div",{className:"flex flex-column surface-card shadow-2 border-round-2xl",children:[he("div",{className:"flex align-items-baseline select-none gap-2 p-3",children:[me("div",{className:"text-2xl",children:e.appName}),he("div",{className:"text-sm",children:["查询到 ",e.bindingList.length," 个角色"]})]}),me(t,{className:"m-0"}),me("div",{className:"flex flex-column gap-2 p-3",children:e.bindingList.map(((a,s)=>he("div",{className:"flex align-items-center surface-0 border-round-lg gap-2 p-2",children:[me("div",{className:"flex center text-xs surface-d border-round select-none tag",style:{width:"2.5rem"},children:a.channelName.toUpperCase()}),me("div",{children:a.nickName}),he("div",{className:"text-xs surface-d border-round select-none tag",children:["UID: ",a.uid]}),a.isDefault&&me("div",{className:"text-xs bg-primary-900 border-round select-none tag",children:"默认角色"}),me("div",{className:"flex-grow-1"}),me(d,{className:"w-2rem h-2rem",icon:me(h,{}),outlined:!0,onClick:()=>{return s=a.uid,c=a.channelMasterId,void l(`/${e.appCode}/info`,{state:{uid:s,channel:c}});var s,c}})]},s)))})]})},pe=()=>{const e=C(),[l,a]=s.useState();return i((()=>{const l=ve("CurrentLogin");l?(Ne.user=l.user,(async e=>{const l={url:"/api/v1/game/player/binding",headers:{cred:e}},{data:{data:{list:a}}}=await k(l);return 0!==a.length?a:void 0})(l.cred).then((e=>a(e)))):e("/")})),me(oe,{children:l&&l.map(((e,l)=>me(fe,{value:e},l)))})},we=e=>`https://web.hycdn.cn/arknights/game/assets/char_skin/avatar/${e=(e=e.replace(/@/g,"%40")).replace(/#/g,"%23")}.png`,ye=e=>`https://web.hycdn.cn/arknights/game/assets/char_skill/${e}.png`;var be=(e=>(e.DateOnly="$1$2-$3-$4",e.NoSecondsDatetime="$1$2-$3-$4 $5:$6",e.NoSecondsTimeOnly="$5:$6",e.NoYearDateOnly="$3-$4",e.NoYearNoSecondsDatetime="$3-$4 $5:$6",e.ShortYearNoSecondsDatetime="$2-$3-$4 $5:$6",e.ShortYearDateOnly="$2-$3-$4",e.ShortYearDatetime="$2-$3-$4 $5:$6:$7",e.TimeOnly="$5:$6:$7",e))(be||{});const Ae=(e,l)=>{(null==l?void 0:l.sec)&&(e*=1e3);return new Date(e).toISOString().replace(/(\d{2})(\d{2})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z/,(null==l?void 0:l.format)||"$1$2-$3-$4 $5:$6:$7").replace(/-/,(null==l?void 0:l.dateSeq)||"-").replace(/:/,(null==l?void 0:l.timeSeq)||":")},Ie=({className:e,color:l,value:a,height:s,indeterminate:c})=>me(v,{className:e,value:a,showValue:!1,color:l,mode:c?"indeterminate":"determinate",style:{height:s||"0.2rem"}});const ke=new class{constructor(){l(this,"_ApCorrectKey","Experiment.ApCorrect"),l(this,"_ApCorrect",xe(this._ApCorrectKey)||!0),I(this)}get ApCorrect(){return this._ApCorrect}set ApCorrect(e){ge(this._ApCorrectKey,e),this._ApCorrect=e}},Ce=({model:e,channel:l})=>{const{building:a,campaign:c,chars:i,charInfoMap:r,routine:n,status:d,skins:o,tower:h}=e,x=ke.ApCorrect?(()=>{const e=d.ap.max-Math.ceil((d.ap.completeRecoveryTime-Date.now()/1e3)/360);return Math.max(d.ap.current,e)})():d.ap.current,g=he(oe,{children:[me("div",{className:"flex surface-d border-round-lg overflow-hidden",children:me(m,{image:we(d.avatar.id),size:"large"})}),he("div",{className:"flex flex-column gap-1",children:[he("div",{className:"flex align-items-center gap-2",children:[me("div",{className:"text-xl",children:d.name}),2==l&&me(N,{className:"w-1rem",width:"100%",src:"https://www.bilibili.com/favicon.ico"})]}),he("div",{className:"flex text-xs gap-2",children:[he("div",{className:"bg-primary-900 border-round tag select-none text-white",children:["Lv.",d.level]}),he("div",{className:"surface-d border-round tag",children:["UID:",d.uid]})]})]})]}),v=he(oe,{children:[me("div",{className:"text-xs text-600 select-none",children:"理智"}),me("div",{className:"flex-grow-1"}),he("div",{className:"flex align-items-baseline gap-1",children:[me("div",{className:"text-xl text-primary",children:x>d.ap.max?d.ap.max:x}),me("div",{className:"text-xs text-600",children:"/"}),me("div",{className:"text-xs text-600",children:d.ap.max})]}),me(Ie,{value:x/d.ap.max*100})]}),u=he(oe,{children:[he("div",{className:"flex text-xs text-600 select-none",children:[me("div",{children:"入职时间"}),me("div",{className:"flex-grow-1"}),he("div",{children:["已苏醒 ",Math.ceil((Date.now()/1e3-d.registerTs)/86400)," 天"]})]}),me("div",{className:"flex-grow-1"}),me("div",{className:"text-xl text-primary",children:Ae(d.registerTs,{format:be.ShortYearNoSecondsDatetime,sec:!0})})]}),f=he(oe,{children:[me("div",{className:"text-xs text-600 select-none",children:"作战进度"}),me("div",{className:"flex-grow-1"}),me("div",{className:"text-xl text-primary",children:d.mainStageProgress||"全部完成"})]}),p=he(oe,{children:[me("div",{className:"text-xs text-600 select-none",children:"助理干员"}),me("div",{className:"flex-grow-1"}),me("div",{className:"text-xl text-primary",children:r[d.secretary.charId].name})]}),w=he(oe,{children:[me("div",{className:"flex text-xs text-600 select-none",children:"家具保有量"}),me("div",{className:"flex-grow-1"}),me("div",{className:"text-xl text-primary",children:a.furniture.total})]}),y=he(oe,{children:[me("div",{className:"text-xs text-600 select-none",children:"干员招募数"}),me("div",{className:"flex-grow-1"}),me("div",{className:"text-xl text-primary",children:i.find((e=>"char_1001_amiya2"===e.charId))?i.length-1:i.length})]}),b=he(oe,{children:[me("div",{className:"text-xs text-600 select-none",children:"时装拥有数"}),me("div",{className:"flex-grow-1"}),me("div",{className:"text-xl text-primary",children:o.length})]}),A=me("div",{className:"flex flex-grow-1 -m-2",children:he("div",{className:"flex flex-column col",children:[me("div",{className:"text-xs text-600 select-none",children:"日常周常"}),me("div",{className:"flex-grow-1"}),he("div",{className:"flex gap-2",children:[he("div",{className:"flex flex-grow-1 align-items-baseline",children:[me("div",{className:"text-lg text-primary",children:n.daily.current}),he("div",{className:"text-xs text-600",children:["/",n.daily.total]})]}),he("div",{className:"flex flex-grow-1 align-items-baseline",children:[me("div",{className:"text-lg text-primary",children:n.weekly.current}),he("div",{className:"text-xs text-600",children:["/",n.weekly.total]})]})]}),he("div",{className:"flex gap-2",children:[me(Ie,{className:"flex-grow-1",value:n.daily.current/n.daily.total*100}),me(Ie,{className:"flex-grow-1",value:n.weekly.current/n.weekly.total*100})]})]})}),I=me("div",{className:"flex flex-grow-1 -m-2",children:he("div",{className:"flex flex-column col",children:[me("div",{className:"text-xs text-600 select-none",children:"保全派驻"}),me("div",{className:"flex-grow-1"}),he("div",{className:"flex gap-2",children:[he("div",{className:"flex flex-grow-1 align-items-baseline",children:[me("div",{className:"text-lg text-purple-300",children:h.reward.lowerItem.current}),he("div",{className:"text-xs text-600",children:["/",h.reward.lowerItem.total]})]}),he("div",{className:"flex flex-grow-1 align-items-baseline",children:[me("div",{className:"text-lg",style:{color:"gold"},children:h.reward.higherItem.current}),he("div",{className:"text-xs text-600",children:["/",h.reward.higherItem.total]})]})]}),he("div",{className:"flex gap-2",children:[me(Ie,{className:"flex-grow-1",color:"var(--purple-300)",value:h.reward.lowerItem.current/h.reward.lowerItem.total*100}),me(Ie,{className:"flex-grow-1",color:"gold",value:h.reward.higherItem.current/h.reward.higherItem.total*100})]})]})}),k=me("div",{className:"flex flex-grow-1 -m-2",children:he("div",{className:"flex flex-column col",children:[me("div",{className:"text-xs text-600 select-none",children:"剿灭作战"}),me("div",{className:"flex-grow-1"}),he("div",{className:"flex align-items-baseline text-xl",children:[me("div",{className:"text-lg text-red-500",children:c.reward.current}),me("div",{className:"text-xs text-600",children:"/"}),me("div",{className:"text-xs text-600",children:c.reward.total})]}),me("div",{className:"flex gap-1",children:me(Ie,{className:"flex-grow-1",color:"var(--red-500)",value:c.reward.current/c.reward.total*100})})]})}),C=(...e)=>he("div",{className:"flex h-4rem",children:[me("div",{className:"flex flex-column col h-full",children:e.shift()}),e.map(((e,l)=>he(s.Fragment,{children:[me(t,{className:"m-0",layout:"vertical"}),me("div",{className:"flex flex-column col h-full",children:e})]},l)))]});return he("div",{className:"flex flex-column surface-card border-round-xl shadow-2",children:[he("div",{className:"flex h-4rem",children:[me("div",{className:"flex align-items-center flex-shrink-0 w-8 gap-2 p-2",children:g}),me(t,{className:"m-0",layout:"vertical"}),me("div",{className:"flex flex-column flex-shrink-0 col h-full",children:v})]}),me(t,{className:"m-0"}),C(u,f,p),me(t,{className:"m-0"}),C(w,y,b,A,I,k)]})},Se=["/Enhance-for-Skland/static/png/a69e0c58.png","/Enhance-for-Skland/static/png/c5afa4f8.png","/Enhance-for-Skland/static/png/68829f40.png"],Le=({model:e})=>{const{assistChars:l,charInfoMap:a,equipmentInfoMap:s}=e,c=e=>{var l,c,i;if(e){const r=e.equip&&s[e.equip.id];return he("div",{className:"flex gap-2 gap-2",children:[he("div",{className:"relative flex-shrink-0 surface-d w-6rem h-6rem border-round-xl overflow-hidden",children:[me(N,{className:"absolute",width:"100%",src:we(e.skinId)}),me(N,{className:"absolute right-0 bottom-0 w-2rem h-2rem bg-black-alpha-30",width:"100%",src:Se[e.evolvePhase]})]}),he("div",{className:"flex flex-column flex-grow-1",children:[he("div",{className:"flex align-items-center gap-2",children:[me("div",{className:"text-lg",children:a[e.charId].name}),me("div",{className:"flex-grow-1"}),me(m,{label:e.level.toString(),shape:"circle"})]}),me("div",{className:"flex-grow-1"}),me("div",{className:"flex align-items-center gap-2",children:r&&"original"!=r.typeIcon&&he(oe,{children:[he("div",{className:"relative flex center w-2rem h-2rem",children:[me(N,{className:"absolute",width:"100%",src:(i=r.shiningColor,`https://web.hycdn.cn/arknights/game/assets/uniequip/type/shining/${i}.png`)}),me(N,{className:"absolute",width:"100%",src:(c=r.typeIcon,`https://web.hycdn.cn/arknights/game/assets/uniequip/type/icon/${c}.png`)})]}),he("div",{className:"flex align-items-center gap-2",children:[me("div",{children:r.typeIcon.toUpperCase()}),he("div",{className:"text-xs bg-primary-900 border-round tag select-none",children:["Lv.",null==(l=e.equip)?void 0:l.level]})]})]})}),he("div",{className:"flex align-items-end gap-2",children:[e.skillId?me(m,{image:ye(e.skillId)}):me(m,{}),he("div",{className:"flex flex-column flex-grow-1",children:[he("div",{className:"flex select-none",children:[me("div",{children:"Rank."}),me("div",{children:e.mainSkillLvl+e.specializeLevel})]}),he("div",{className:"flex gap-1",children:[me(Ie,{className:"flex-grow-1",value:e.mainSkillLvl/7*100}),me(Ie,{className:"w-1rem",value:e.specializeLevel>=1?100:0,color:"lightgreen"}),me(Ie,{className:"w-1rem",value:e.specializeLevel>=2?100:0,color:"gold"}),me(Ie,{className:"w-1rem",value:3==e.specializeLevel?100:0,color:"tomato"})]})]})]})]})]})}return me("div",{className:"surface-0 border-round-xl flex h-6rem center text-xl text-d select-none",children:"NO INFO"})};return he("div",{className:"flex flex-column surface-card border-round-xl shadow-2",children:[he("div",{className:"flex align-items-baseline gap-2 select-none p-3",children:[me("div",{className:"text-xl",children:"助战干员"}),me("div",{className:"text-xs",children:"SUPPORT UNIT"})]}),me(t,{className:"m-0"}),he("div",{className:"flex flex-column p-3 gap-3",children:[c(l[0]),c(l[1]),c(l[2])]})]})},Me={1:"近卫干员",2:"狙击干员",3:"重装干员",4:"医疗干员",5:"辅助干员",6:"术师干员",7:"特种干员",8:"先锋干员",9:"近战位",10:"远程位",12:"控场",15:"治疗",16:"支援",17:"新手",18:"费用回复",19:"输出",20:"生存",21:"群攻",22:"防护",23:"减速",24:"削弱",25:"快速复活",26:"位移"},De=e=>{switch(e){case 7:case 12:case 16:case 24:case 25:case 26:return"mediumslateblue"}return"transparent"},je=({model:e})=>{const{building:l,recruit:a}=e,s=(e,l)=>{const a=()=>{switch(e.state){case 1:return 0;case 3:return 100;case 2:const l=e.finishTs-Date.now()/1e3;return l<=0?100:(e.duration-l)/e.duration*100}};return he("div",{className:"flex col surface-0 border-round-lg gap-2",children:[me(m,{label:l.toString()}),he("div",{className:"flex flex-column flex-grow-1 justify-content-end gap-1",children:[he("div",{className:"flex align-items-center gap-1",children:[e.selectTags.map((({tagId:e})=>me("div",{className:"text-xs surface-d border-round overflow-hidden",children:me("div",{className:"tag",style:{background:De(e)},children:Me[e]||`Tag_${e}`})},e))),me("div",{className:"flex-grow-1"})]}),me(Ie,{value:a()})]}),me(m,{icon:(()=>{const l=me(j,{style:{color:"lightblue"}}),s=me(R,{className:"p-icon-spin",style:{color:"gold"}}),c=me(G,{style:{color:"lightgreen"}});switch(e.state){case 1:return l;case 2:return 100==a()?c:s;case 3:return c}})()})]})};return he("div",{className:"flex flex-column surface-card border-round-xl shadow-2",children:[he("div",{className:"flex align-items-baseline gap-2 select-none p-3",children:[me("div",{className:"text-xl",children:"公开招募"}),me("div",{className:"text-sm",children:"NORMAL GACHA"}),me("div",{className:"flex-grow-1"}),he("div",{className:"flex gap-2",children:[me("div",{children:"联络次数"}),me(u,{className:"gap-1 text-primary",stars:3,cancel:!1,value:l.hire.refreshCount,onIcon:me(D,{className:"p-icon-spin"}),offIcon:me(D,{className:"text-300"}),readOnly:!0})]})]}),me(t,{className:"m-0"}),he("div",{className:"flex flex-column gap-3 p-3",children:[he("div",{className:"flex gap-3",children:[s(a[0],1),s(a[1],2)]}),he("div",{className:"flex gap-3",children:[s(a[2],3),s(a[3],4)]})]})]})},Re=({className:e,children:l})=>me("div",{className:e,children:me("div",{className:"flex flex-column surface-0 border-round-lg",children:l})}),Ge=({title:e,level:l,children:a,className:s})=>he(oe,{children:[he("div",{className:"flex align-items-center gap-2 select-none p-2",style:{height:"2.5rem"},children:[he("div",{className:"flex align-items-baseline gap-2",children:[me("div",{children:e}),he("div",{className:"text-xs",children:["Lv.",l]})]}),me("div",{className:"flex-grow-1"}),me("div",{className:s,children:a})]}),me(t,{className:"m-0"})]}),Oe=({chars:e,max:l,method:a})=>{e||(e=[]);if(e.length<l)for(let s=e.length;s<l;s++)e.push({charId:`empty_${s}`,ap:0,index:-1});return me("div",{className:"flex h-2rem gap-2",children:e.map((e=>{return he("div",{className:"flex col gap-2 overflow-hidden p-0",children:[me("div",{className:"flex flex-shrink-0 surface-d border-round-lg overflow-hidden",children:-1==e.index?me(m,{icon:me(O,{})}):me(m,{image:a.getAvatar(e.charId)})}),he("div",{className:"flex flex-column flex-grow-1 justify-content-end overflow-hidden gap-1",children:[me("div",{className:"text-xs text-ellipsis",children:-1!=e.index?a.getName(e.charId):"虚位以待"}),me(Ie,{value:e.ap<=0&&-1!=e.index?100:e.ap/86400,color:(l=e.ap,l<=0?"tomato":l<=216e4?"orange":864e4==l?"lightgreen":void 0)})]})]},e.charId);var l}))})},Ue=({model:e,method:l})=>he(s.Fragment,{children:[me(Ge,{title:"控制中枢",level:e.level}),me(t,{className:"m-0"}),he("div",{className:"flex flex-column gap-2 p-2",children:[he("div",{className:"flex align-items-center h-2rem gap-2",children:[me(m,{icon:me(U,{})}),me("div",{children:"LEVEL OF CONTROL INTERFACE"})]}),me(Oe,{chars:e.chars,max:5,method:l})]})]}),Te=({model:e,method:l})=>he(oe,{children:[me(Ge,{title:"制造站",level:e.level,children:he("div",{className:"flex text-sm align-items-center gap-1",style:{color:"gold"},children:[me(T,{}),he("div",{children:[(100*e.speed).toFixed(0),"%"]})]})}),me(t,{className:"m-0"}),he("div",{className:"flex flex-column gap-2 p-2",children:[he("div",{className:"flex h-2rem gap-2 select-none",children:[me(m,{icon:me(z,{})}),he("div",{className:"flex flex-column justify-content-end flex-grow-1 gap-1",children:[he("div",{className:"flex align-items-baseline gap-1",children:[me("div",{className:"text-lg",style:{color:"gold"},children:e.weight}),me("div",{className:"text-xs",children:"/"}),me("div",{className:"text-xs",children:e.capacity}),me("div",{className:"flex-grow-1"}),me("div",{className:"text-sm",style:{color:"gold"},children:{1:"基础作战记录",2:"初级作战记录",3:"中级作战记录",4:"赤金",5:"先锋双芯片",6:"近卫双芯片",7:"重装双芯片",8:"狙击双芯片",9:"术师双芯片",10:"医疗双芯片",11:"辅助双芯片",12:"特种双芯片",13:"源石碎片",14:"源石碎片"}[e.formulaId]})]}),me(Ie,{value:e.weight/e.capacity*100,color:"gold"})]}),me(m,{className:"text-sm",label:e.complete.toString(),shape:"circle"})]}),me(Oe,{chars:e.chars,max:3,method:l})]})]}),ze=({model:e,method:l})=>{const[a,c]=s.useState(!1);return he(oe,{children:[me(Ge,{title:"贸易站",level:e.level,children:me(d,{className:"text-sm p-0",icon:me(B,{className:"mr-1"}),label:"订单",text:!0,onClick:()=>c(!0),disabled:0==e.stock.length,style:{color:0==e.stock.length?"grey":"deepskyblue"}})}),me(t,{className:"m-0"}),he("div",{className:"flex flex-column gap-2 p-2",children:[he("div",{className:"flex h-2rem gap-2 select-none",children:[me(m,{icon:me(E,{})}),he("div",{className:"flex flex-column justify-content-end flex-grow-1 gap-1",children:[he("div",{className:"flex align-items-baseline gap-1",children:[me("div",{className:"text-lg",style:{color:"deepskyblue"},children:e.stock.length}),me("div",{className:"text-xs",children:"/"}),me("div",{className:"text-xs",children:e.stockLimit}),me("div",{className:"flex-grow-1"}),me("div",{className:"flex align-items-center gap-1",children:me("div",{className:"text-sm",style:{color:"O_GOLD"==e.strategy?"deepskyblue":"tomato"},children:"O_GOLD"==e.strategy?"龙门商法":"开采协力"})})]}),me(Ie,{value:e.stock.length/e.stockLimit*100,color:"deepskyblue"})]})]}),me(Oe,{chars:e.chars,max:3,method:l})]}),me(f,{header:"订单",headerClassName:"select-none",style:{width:"55rem"},onHide:()=>c(!1),visible:a,resizable:!1,draggable:!1,children:me(p,{value:e.stock,itemTemplate:e=>he("div",{className:"flex flex-column w-8rem flex-shrink-0 surface-0 border-round-lg m-2 select-none",children:[he("div",{className:"flex align-items-center p-2",style:{color:"deepskyblue"},children:[me("div",{className:"text-xs",children:"O_GOLD"==e.type?"贵金属订单":"源石订单"}),me("div",{className:"flex-grow-1"}),me(Z,{})]}),me(t,{className:"m-0",type:"dashed"}),he("div",{className:"flex flex-column p-2",children:[me("div",{className:"flex text-xl",children:me(Y,{})}),me("div",{className:"flex text-6xl justify-content-center",children:e.delivery[0].count}),me("div",{className:"flex text-sm justify-content-end",style:{color:"gold"},children:3003==e.delivery[0].id?"赤金":"源石碎片"})]}),me(t,{className:"m-0",type:"dashed"}),he("div",{className:"flex text-sm align-items-center p-2 gap-1",children:[me(N,{width:"24",src:"GOLD"==e.gain.type?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuYTg3MzFiOSwgMjAyMS8wOS8wOS0wMDozNzozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMy0wOC0wM1QxMzowMjo1NCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDgtMDNUMTM6MDQ6MDIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjMtMDgtMDNUMTM6MDQ6MDIrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc3ZDc3MmE5LTZlMzUtNDM0MC05NjAwLTJlNjc4NjQ3ZjZmNSIgeG1wTU06RG9jdW1lbnRJRD0i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":"/Enhance-for-Skland/static/png/ab127956.png"}),me("div",{children:e.gain.count}),me("div",{className:"flex-grow-1"}),me(J,{className:"text-xl"})]})]}),numScroll:5,numVisible:5})})]})},Be=({model:e,method:l})=>{const a=2**(e.level-1)*60+10*(2**(e.level-1)-1);return he(oe,{children:[me(Ge,{title:"发电站",level:e.level,children:he("div",{className:"flex text-sm align-items-center gap-1",style:{color:"greenyellow"},children:[me(Q,{}),me("div",{children:a})]})}),me(t,{className:"m-0"}),he("div",{className:"flex flex-column gap-2 p-2",children:[he("div",{className:"flex h-2rem gap-2",children:[me(m,{icon:me(K,{})}),me("div",{className:"flex align-items-center flex-grow-1 gap-2",children:me(Ie,{className:"flex-grow-1 h-full",indeterminate:!0,color:"greenyellow"})})]}),me(Oe,{chars:e.chars,max:1,method:l})]})]})},Ee=({model:e,method:l})=>he(oe,{children:[me(Ge,{title:"宿舍",level:e.level,children:he("div",{className:"flex text-sm align-items-center gap-1",style:{color:"greenyellow"},children:[me(F,{}),me("div",{children:e.comfort})]})}),me(t,{className:"m-0"}),me("div",{className:"flex flex-column gap-2 p-2",children:me(Oe,{chars:e.chars,max:5,method:l})})]}),Ze=({model:e,method:l})=>he(oe,{children:[me(Ge,{title:"办公室",level:e.level}),me(t,{className:"m-0"}),he("div",{className:"flex flex-column gap-2 p-2",children:[he("div",{className:"flex h-2rem gap-2",children:[me(m,{icon:me(H,{})}),me(Ie,{className:"flex-grow-1 h-full",indeterminate:0==e.refreshCount,value:100*e.refreshCount}),me(Ie,{className:"flex-grow-1 h-full",indeterminate:1==e.refreshCount,value:100*Math.max(e.refreshCount-1,0)}),me(Ie,{className:"flex-grow-1 h-full",indeterminate:2==e.refreshCount,value:100*Math.max(e.refreshCount-2,0)})]}),me(Oe,{chars:e.chars,max:1,method:l})]})]}),Ye=({model:e,method:l})=>{const a=l=>e.clue.board.find((e=>e==l))&&"white";return he(oe,{children:[me(Ge,{title:"会客室",level:e.level,children:me("div",{className:"flex text-sm align-items-center gap-1",style:{color:"orange"},children:e.clue.sharing&&he(oe,{children:[me(W,{className:"p-icon-spin"}),me("div",{children:"线索交流开启中"})]})})}),me(t,{className:"m-0"}),he("div",{className:"flex flex-column gap-2 p-2",children:[he("div",{className:"flex h-2rem gap-2",children:[me(m,{icon:me(P,{})}),he("div",{className:"flex flex-column justify-content-end flex-grow-1 gap-1",children:[he("div",{className:"flex align-items-baseline gap-1",children:[me("div",{className:"text-lg",style:{color:"orange"},children:e.clue.own}),me("div",{className:"text-xs",children:"/"}),me("div",{className:"text-xs",children:"10"}),me("div",{className:"flex-grow-1"}),he("div",{className:"flex gap-1",style:{color:"transparent"},children:[me(X,{style:{color:a("RHINE")}}),me(V,{style:{color:a("PENGUIN")}}),me($,{style:{color:a("BLACKSTEEL")}}),me(q,{style:{color:a("URSUS")}}),me(_,{style:{color:a("GLASGOW")}}),me(ee,{style:{color:a("KJERAG")}}),me(le,{style:{color:a("RHODES")}})]})]}),me(Ie,{value:10*e.clue.own,color:"orange"})]})]}),me(Oe,{chars:e.chars,max:2,method:l})]})]})},Je=({model:e,method:l})=>{const a=()=>e.trainee&&-1!=e.trainee.targetSkill?l.getSkillLevel(e.trainee.charId,e.trainee.targetSkill):-1,s=l=>e.trainee&&a()>=l?100:0,c=l=>0!=e.remainSecs&&a()==l-1;return he(oe,{children:[me(Ge,{title:"训练室",level:e.level}),me(t,{className:"m-0"}),he("div",{className:"flex flex-column gap-2 p-2",children:[he("div",{className:"flex h-2rem gap-2",children:[me("div",{className:"flex surface-d border-round-lg overflow-hidden",children:e.trainee?me(m,{image:l.getAvatar(e.trainee.charId)}):me(m,{icon:me(ae,{})})}),e.trainee&&-1!=e.trainee.targetSkill?me(m,{image:l.getSkillIcon(e.trainee.charId,e.trainee.targetSkill)}):me(m,{}),me(Ie,{className:"flex-grow-1 h-full",color:"lightgreen",value:s(0),indeterminate:c(1)}),me(Ie,{className:"flex-grow-1 h-full",color:"gold",value:s(1),indeterminate:c(2)}),me(Ie,{className:"flex-grow-1 h-full",color:"tomato",value:s(2),indeterminate:c(3)})]}),me(Oe,{chars:e.trainer&&[e.trainer],max:1,method:l})]})]})},Qe=({model:e})=>{const{building:l,chars:a,charInfoMap:s}=e,{control:c,dormitories:i,hire:r,labor:n,manufactures:d,meeting:o,powers:m,tradings:h,training:x}=l,g=e=>a.find((l=>l.charId==e)),v={getAvatar:e=>{const l=g(e);if(l)return we(l.skinId)},getName:e=>s[e].name,getSkillIcon:(e,l)=>{const a=g(e);return ye(a.skills[l].id)},getSkillLevel:(e,l)=>g(e).skills[l].specializeLevel},N=e=>{const l=l=>l.slotId==e,a=i.find(l);if(a)return me(Ee,{model:a,method:v});const s=d.find(l);if(s)return me(Te,{model:s,method:v});const c=m.find(l);if(c)return me(Be,{model:c,method:v});const r=h.find(l);return r?me(ze,{model:r,method:v}):void 0};return he("div",{className:"flex flex-column surface-card border-round-xl",children:[he("div",{className:"flex align-items-baseline gap-2 select-none p-3",children:[me("div",{className:"text-xl",children:"基建"}),me("div",{className:"text-sm",children:"RHODES ISLAND INFRASTRUCTURE COMPLEX"}),me("div",{className:"flex-grow-1"}),he("div",{className:"flex flex-column w-6rem",children:[he("div",{className:"flex align-items-baseline gap-1",children:[me(se,{className:"text-purple-300"}),me("div",{className:"text-purple-300",children:n.value}),me("div",{className:"text-xs",children:"/"}),me("div",{className:"text-xs",children:n.maxValue})]}),me(Ie,{value:n.value/n.maxValue*100,color:"var(--purple-300)"})]})]}),me(t,{className:"m-0"}),he("div",{className:"grid grid-nogutter flex-column gap-2 px-3 pt-3 pb-2",children:[me("div",{className:"grid",children:me(Re,{className:"col-12",children:me(Ue,{model:c,method:v})})}),he("div",{className:"grid",children:[me(Re,{className:"col-4",children:N("slot_24")}),me(Re,{className:"col-4",children:N("slot_25")}),me(Re,{className:"col-4",children:N("slot_26")})]}),he("div",{className:"grid",children:[me(Re,{className:"col-4",children:N("slot_14")}),me(Re,{className:"col-4",children:N("slot_15")}),me(Re,{className:"col-4",children:N("slot_16")})]}),he("div",{className:"grid",children:[me(Re,{className:"col-4",children:N("slot_5")}),me(Re,{className:"col-4",children:N("slot_6")}),me(Re,{className:"col-4",children:N("slot_7")})]}),he("div",{className:"grid",children:[me(Re,{className:"col-4",children:me(Ye,{model:o,method:v})}),me(Re,{className:"col-4",children:me(Ze,{model:r,method:v})}),me(Re,{className:"col-4",children:me(Je,{model:x,method:v})})]}),me("div",{className:"grid",children:me(Re,{className:"col-12",children:N("slot_28")})}),me("div",{className:"grid",children:me(Re,{className:"col-12",children:N("slot_20")})}),me("div",{className:"grid",children:me(Re,{className:"col-12",children:N("slot_9")})}),me("div",{className:"grid",children:me(Re,{className:"col-12",children:N("slot_3")})})]})]})};var Ke=(e=>(e[e.SWITCH=0]="SWITCH",e))(Ke||{});const Fe=e=>{var l;const a=e=>{const{type:l,value:a,key:s}=e;if(0===l)return me(w,{checked:a[s],onChange:e=>a[s]=e.value})};return he("div",{className:"flex flex-column surface-0 border-round-xl select-none",children:[he("div",{className:"flex text-lg align-items-center gap-2 p-3",children:[me(m,{icon:e.icon}),me("div",{children:e.header})]}),me(t,{className:"m-0"}),me("div",{className:"flex flex-column gap-2 p-3",children:null==(l=e.value)?void 0:l.map((e=>(e=>he("div",{className:"flex flex-column gap-1",children:[he("div",{className:"flex align-items-center",children:[me("div",{children:e.label}),me("div",{className:"flex-grow-1"}),me("div",{children:a(e)})]}),e.detail&&me("div",{className:"text-sm text-300",children:e.detail})]},e.key))(e)))})]})};Fe.defaultProps={icon:me(ce,{})};const He=ne(Fe),We=e=>{const l=[{detail:"通过算法对理智值进行重新计算，通常情况下它能够使网页中显示的理智尽可能的接近游戏中的实际值。默认值：true",key:"ApCorrect",label:"理智修正",type:Ke.SWITCH,value:ke}];return me(f,{header:e.header,headerClassName:"select-none",onHide:e.onHide,visible:e.visible,resizable:!1,draggable:!1,style:{width:"55rem"},children:me("div",{className:"flex flex-column gap-3",children:me(He,{header:"实验性设置",icon:me(ie,{}),value:l})})})},Pe=()=>{const e=C(),{state:{uid:l,channel:a}}=S(),[c,r]=s.useState(),[t,n]=s.useState(!1);i((()=>{const a=ve("CurrentLogin");a?(Ne.user=a.user,(async(e,l)=>{const a={url:"/api/v1/game/player/info",params:{uid:l},headers:{cred:e}},{data:{data:s}}=await k(a);return s})(a.cred,l).then((e=>r(e)))):e("/")}));return he(oe,{children:[me("div",{className:"flex flex-column gap-4",children:c?he("div",{className:"flex flex-column gap-2",children:[me("div",{className:"grid",children:me("div",{className:"col-12",children:me(y,{className:"border-round-xl shadow-2",start:me("div",{className:"flex text-sm surface-card border-round-xl center select-none",children:"查询结果可能与游戏内数据存在亿点延迟，具体请以游戏内数据为准。"}),end:he("div",{className:"flex gap-2",children:[me(d,{className:"w-2rem h-2rem",icon:me(D,{}),onClick:()=>location.reload(),outlined:!0}),me(d,{className:"w-2rem h-2rem",icon:me(ce,{}),onClick:()=>n(!0),outlined:!0})]})})})}),he("div",{className:"grid",children:[he("div",{className:"flex flex-column col-8 gap-3",children:[me(Ce,{model:c,channel:a}),me(je,{model:c})]}),me("div",{className:"flex flex-column col-4 gap-3",children:me(Le,{model:c})})]}),me("div",{className:"grid",children:me("div",{className:"col-12",children:me(Qe,{model:c})})})]}):me("div",{className:"flex flex-grow-1 center",children:"Loading"})}),me(We,{header:"设置",onHide:()=>n(!1),visible:t})]})},Xe=(e,l,a)=>({path:e,element:l,children:a}),Ve=[Xe("binding",me(pe,{})),Xe("arknights",void 0,[Xe("info",me(Pe,{}))]),Xe("",me(ue,{}))],$e=ne((()=>{const e=C(),l=s.useRef(null),a=[{label:"切换角色",icon:me(re,{className:"mr-2"}),command:()=>e("/binding")},{separator:!0},{label:"退出登录",icon:me(te,{className:"mr-2"}),command:()=>{var l;l="CurrentLogin",sessionStorage.removeItem(l),Ne.user=void 0,e("/")}}];return he("div",{className:"w-full",children:[he("div",{className:"flex align-items-center h-4rem px-3 gap-3 surface-card select-none",children:[he("div",{className:"flex align-items-center gap-1",children:[he("div",{className:"flex flex-column",children:[me("div",{className:"text-xs font-italic",children:"Enhance for"}),me("div",{className:"text-2xl",style:{lineHeight:"1.75rem"},children:"Skland."})]}),me(x,{severity:"info",children:"Beta"})]}),me("div",{className:"flex-grow-1"}),Ne.user&&me(d,{className:"surface-0",onClick:e=>{var a;return null==(a=l.current)?void 0:a.toggle(e)},text:!0,children:he("div",{className:"flex align-items-center gap-2",children:[me("div",{className:"flex border-circle overflow-hidden",children:me(m,{image:Ne.user.user.avatar})}),me("div",{children:Ne.user.user.nickname})]})}),me(b,{ref:l,className:"mt-3",model:a,popup:!0})]}),me(t,{className:"m-0"})]})})),qe=()=>{const e=L(Ve);return he("div",{className:"flex flex-column w-full h-screen align-items-center",children:[me("div",{className:"w-full shadow-2 z-5",children:me($e,{})}),me(A,{className:"w-full",style:{height:"calc(100vh - 4rem)"},children:me("div",{className:"flex h-full center",children:me("div",{className:"py-8 w-full h-full",style:{maxWidth:1e3},children:e})})})]})};k.defaults.baseURL="https://zonai.skland.com",k.defaults.headers.platform=1,k.defaults.headers.os=32,k.defaults.headers.language="zh-cn",k.defaults.headers.vName="0.1.4",k.defaults.headers.manufacturer="Samsung",c.createRoot(document.getElementById("root")).render(me(de,{children:me(qe,{})}));
