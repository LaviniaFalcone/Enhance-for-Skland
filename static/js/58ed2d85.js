var e=Object.defineProperty,s=(s,l,a)=>(((s,l,a)=>{l in s?e(s,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[l]=a})(s,"symbol"!=typeof l?l+"":l,a),a);import{r as l,j as a}from"./63eebe13.js";import{c as r}from"./10322d52.js";import{u as c,T as i,D as t,I as n,B as d,A as x,a as o,C as m,b as h,c as j,P as g,d as v,R as u,e as N,f,g as p,h as w,M as y,S as b}from"./98b917df.js";import{b as A}from"./4326f4f8.js";import{a as I}from"./a8ee11a1.js";import{u as C,a as k,b as S}from"./dfe7ac38.js";import{L as D,R as L,S as M,H as R,C as G,a as U,b as O,c as T,B as z,d as B,O as F,e as E,E as Z,I as Y,f as J,g as K,h as Q,A as H,i as W,N as P,j as X,T as V,k as $,F as _,l as q,m as ee,n as se,D as le,o as ae,p as re,q as ce,P as ie,r as te}from"./84f29ec5.js";import{o as ne}from"./e90285f9.js";import{H as de}from"./905f201a.js";/* empty css        */import"./4d0ffb58.js";import"./c51d43b5.js";import"./c5acfea1.js";import"./25f942a5.js";import"./be2fa48a.js";import"./18c268dd.js";import"./190f51f5.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const xe=e=>{const s=localStorage.getItem(e);if(s)return JSON.parse(s)},oe=(e,s)=>localStorage.setItem(e,JSON.stringify(s)),me=e=>{const s=sessionStorage.getItem(e);if(s)return JSON.parse(s)};const he=new class{constructor(){s(this,"_user"),A(this)}get user(){return this._user}set user(e){this._user=e}},je=()=>{const e=C(),s=l.useRef(null),[r,g]=l.useState(""),[v,u]=l.useState(!1),[N,f]=l.useState(!1),[p,w]=l.useState(),[y,b]=l.useState(),A=async(s,l)=>{var a,r;oe("LastLogin",{cred:s,user:l}),a="CurrentLogin",r={cred:s,user:l},sessionStorage.setItem(a,JSON.stringify(r)),he.user=l,e("/binding")};l.useEffect((()=>{f(32!==r.length)}),[r]),c((()=>{b(xe("LastLogin"))}));const k=a.jsx(a.Fragment,{children:a.jsxs("div",{className:"flex flex-column surface-0 border-round-lg gap-2 p-2",children:[a.jsx(h,{severity:"success",children:"方法一"}),a.jsxs("div",{className:"flex align-items-center gap-1",children:[a.jsx("div",{children:"1. 打开"}),a.jsx(d,{className:"px-1 py-0",icon:a.jsx(D,{className:"mr-2",size:20}),label:"森空岛网页版",text:!0,onClick:()=>open("https://www.skland.com/")}),a.jsx("div",{children:"并登录。"})]}),a.jsxs("div",{className:"flex align-items-center gap-1",children:[a.jsx("div",{children:"2. 打开网页开发工具并切换到"}),a.jsx(h,{children:"应用程序"}),a.jsx("div",{children:"选项卡"})]}),a.jsxs("div",{className:"flex align-items-center gap-1",children:[a.jsx("div",{children:"3. 选择"}),a.jsxs(h,{children:["存储 ","->"," 本地存储 ","->"," https://www.skland.com"]})]}),a.jsxs("div",{className:"flex align-items-center gap-1",children:[a.jsx("div",{children:"4. 右侧面板中"}),a.jsx(h,{children:"SK_OAUTH_CRED_KEY"}),a.jsx("div",{children:"的值就是您的凭据。"})]}),a.jsx(h,{severity:"success",children:"方法二"}),a.jsxs("div",{className:"flex align-items-center gap-1",children:[a.jsx("div",{children:"1. 打开"}),a.jsx(d,{className:"px-1 py-0",icon:a.jsx(D,{className:"mr-2",size:20}),label:"森空岛网页版",text:!0,onClick:()=>open("https://www.skland.com/")}),a.jsx("div",{children:"并登录。"})]}),a.jsxs("div",{className:"flex align-items-center gap-1",children:[a.jsx("div",{children:"2. 打开网页开发工具并切换到"}),a.jsx(h,{children:"控制台"}),a.jsx("div",{children:"选项卡"})]}),a.jsxs("div",{className:"flex flex-column gap-1",children:[a.jsx("div",{children:"3. 在控制台中输入以下内容并回车："}),a.jsx(j,{value:'localStorage.getItem("SK_OAUTH_CRED_KEY");',autoResize:!0,readOnly:!0,rows:1})]}),a.jsx("div",{className:"flex",children:"4. 控制台返回的值就是您的凭据。"}),a.jsx(h,{severity:"success",children:"方法三"}),a.jsxs("div",{className:"flex align-items-center gap-1",children:[a.jsx("div",{children:"1. 打开"}),a.jsx(d,{className:"px-1 py-0",icon:a.jsx(D,{className:"mr-2",size:20}),label:"森空岛网页版",text:!0,onClick:()=>open("https://www.skland.com/")}),a.jsx("div",{children:"并登录。"})]}),a.jsxs("div",{className:"flex flex-column gap-1",children:[a.jsx("div",{children:"2. 在浏览器地址栏中输入以下内容并回车："}),a.jsx(j,{value:'javascript:prompt(undefined, localStorage.getItem("SK_OAUTH_CRED_KEY"));',autoResize:!0,readOnly:!0})]}),a.jsx("div",{className:"flex",children:"3. 浏览器弹出的对话框内的值就是您的凭据。"}),a.jsx(h,{severity:"warning",children:"请妥善保管您的凭据，切勿透露给他人！"})]})});return a.jsxs("div",{className:"flex flex-column surface-card border-round-xl",children:[a.jsx(i,{ref:s,position:"bottom-right"}),a.jsxs("div",{className:"flex align-items-baseline gap-2 p-3 select-none",children:[a.jsx("div",{className:"text-xl",children:"凭据"}),a.jsx("div",{className:"text-sm",children:"CREDENTIALS"})]}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"flex flex-column flex-shrink-0 w-6 gap-2 p-3 select-none",children:[!p&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-sm",children:"输入凭据"}),a.jsxs("div",{className:"p-inputgroup",children:[a.jsx(n,{value:r,onChange:e=>g(e.target.value),keyfilter:/\w/,type:"password",maxLength:32,readOnly:v}),a.jsx(d,{icon:a.jsx(x,{}),loading:v,onClick:async()=>{var e,l;if(32===r.length){u(!0),w(void 0);try{w(await(async e=>{const s={url:"/api/v1/user/me",headers:{cred:e}},{data:{data:l}}=await I(s);return l})(r))}catch(a){const r=a;switch(r.code){case"ERR_NETWORK":null==(e=s.current)||e.show({severity:"error",summary:r.code,detail:"网络异常"});break;case"ERR_BAD_REQUEST":null==(l=s.current)||l.show({severity:"error",summary:r.code,detail:"无效凭据"})}}finally{u(!1)}}},disabled:N})]})]}),p&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-sm",children:"确认账户"}),a.jsxs("div",{className:"flex align-items-center surface-0 border-round-lg gap-2 p-2",children:[a.jsx("div",{className:"flex surface-d border-round-lg overflow-hidden",children:a.jsx(o,{image:p.user.avatar})}),a.jsx("div",{className:"text-lg",children:p.user.nickname}),a.jsx("div",{className:"flex-grow-1"}),a.jsx(d,{className:"w-2rem h-2rem",severity:"success",icon:a.jsx(m,{}),onClick:()=>A(r,p)})]}),a.jsx("div",{className:"flex justify-content-end",children:a.jsx(d,{className:"text-xs p-0",severity:"danger",label:"返回上一步",text:!0,onClick:()=>w(void 0)})})]}),y&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-sm",children:"上次登录"}),a.jsxs("div",{className:"flex align-items-center surface-0 border-round-lg gap-2 p-2",children:[a.jsx("div",{className:"flex surface-d border-round-lg overflow-hidden",children:a.jsx(o,{image:y.user.user.avatar})}),a.jsx("div",{className:"text-lg",children:y.user.user.nickname}),a.jsx("div",{className:"flex-grow-1"}),a.jsx(d,{className:"w-2rem h-2rem",severity:"success",icon:a.jsx(m,{}),onClick:()=>A(y.cred,y.user)})]}),a.jsx("div",{className:"flex justify-content-end",children:a.jsx(d,{className:"text-xs p-0",severity:"danger",label:"清除登录记录",text:!0,onClick:()=>{var e;e="LastLogin",localStorage.removeItem(e),b(void 0)}})})]})]}),a.jsx(t,{className:"m-0",layout:"vertical"}),a.jsxs("div",{className:"flex flex-column w-6 gap-2 p-3 select-none",children:[a.jsx("div",{className:"text-sm",children:"如何获取凭据"}),k]})]})]})},ge=({value:e})=>{const s=C();return a.jsxs("div",{className:"flex flex-column surface-card shadow-2 border-round-2xl",children:[a.jsxs("div",{className:"flex align-items-baseline select-none gap-2 p-3",children:[a.jsx("div",{className:"text-2xl",children:e.appName}),a.jsxs("div",{className:"text-sm",children:["查询到 ",e.bindingList.length," 个角色"]})]}),a.jsx(t,{className:"m-0"}),a.jsx("div",{className:"flex flex-column gap-2 p-3",children:e.bindingList.map(((l,r)=>a.jsxs("div",{className:"flex align-items-center surface-0 border-round-lg gap-2 p-2",children:[a.jsx("div",{className:"flex center text-xs surface-d border-round select-none tag",style:{width:"2.5rem"},children:l.channelName.toUpperCase()}),a.jsx("div",{children:l.nickName}),a.jsxs("div",{className:"text-xs surface-d border-round select-none tag",children:["UID: ",l.uid]}),l.isDefault&&a.jsx("div",{className:"text-xs bg-primary-900 border-round select-none tag",children:"默认角色"}),a.jsx("div",{className:"flex-grow-1"}),a.jsx(d,{className:"w-2rem h-2rem",icon:a.jsx(m,{}),outlined:!0,onClick:()=>{return a=l.uid,r=l.channelMasterId,void s(`/${e.appCode}/info`,{state:{uid:a,channel:r}});var a,r}})]},r)))})]})},ve=()=>{const e=C(),[s,r]=l.useState();return c((()=>{const s=me("CurrentLogin");s?(he.user=s.user,(async e=>{const s={url:"/api/v1/game/player/binding",headers:{cred:e}},{data:{data:{list:l}}}=await I(s);return 0!==l.length?l:void 0})(s.cred).then((e=>r(e)))):e("/")})),a.jsx(a.Fragment,{children:s&&s.map(((e,s)=>a.jsx(ge,{value:e},s)))})},ue=e=>`https://web.hycdn.cn/arknights/game/assets/char_skin/avatar/${e=(e=e.replace(/@/g,"%40")).replace(/#/g,"%23")}.png`,Ne=e=>`https://web.hycdn.cn/arknights/game/assets/char_skill/${e}.png`;var fe=(e=>(e.DateOnly="$1$2-$3-$4",e.NoSecondsDatetime="$1$2-$3-$4 $5:$6",e.NoSecondsTimeOnly="$5:$6",e.NoYearDateOnly="$3-$4",e.NoYearNoSecondsDatetime="$3-$4 $5:$6",e.ShortYearNoSecondsDatetime="$2-$3-$4 $5:$6",e.ShortYearDateOnly="$2-$3-$4",e.ShortYearDatetime="$2-$3-$4 $5:$6:$7",e.TimeOnly="$5:$6:$7",e))(fe||{});const pe=(e,s)=>{(null==s?void 0:s.sec)&&(e*=1e3);return new Date(e).toISOString().replace(/(\d{2})(\d{2})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z/,(null==s?void 0:s.format)||"$1$2-$3-$4 $5:$6:$7").replace(/-/,(null==s?void 0:s.dateSeq)||"-").replace(/:/,(null==s?void 0:s.timeSeq)||":")},we=({className:e,color:s,value:l,height:r,indeterminate:c})=>a.jsx(g,{className:e,value:l,showValue:!1,color:s,mode:c?"indeterminate":"determinate",style:{height:r||"0.2rem"}});const ye=new class{constructor(){s(this,"_key","Experiment"),s(this,"_ApCorrectKey",`${this._key}.ApCorrect`),s(this,"_DroneCorrectKey",`${this._key}.DroneCorrect`),s(this,"_ApCorrect",xe(this._ApCorrectKey)||!0),s(this,"_DroneCorrect",xe(this._DroneCorrectKey)||!1),A(this)}get ApCorrect(){return this._ApCorrect}set ApCorrect(e){oe(this._ApCorrectKey,e),this._ApCorrect=e}get DroneCorrect(){return this._DroneCorrect}set DroneCorrect(e){oe(this._DroneCorrectKey,e),this._DroneCorrect=e}},be=({model:e,channel:s})=>{const{building:r,campaign:c,chars:i,charInfoMap:n,routine:d,status:x,skins:m,tower:h}=e,j=ye.ApCorrect?(()=>{const e=x.ap.max-Math.ceil((x.ap.completeRecoveryTime-Date.now()/1e3)/360);return Math.max(x.ap.current,e)})():x.ap.current,g=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex surface-d border-round-lg overflow-hidden",children:a.jsx(o,{image:ue(x.avatar.id),size:"large"})}),a.jsxs("div",{className:"flex flex-column gap-1",children:[a.jsxs("div",{className:"flex align-items-center gap-2",children:[a.jsx("div",{className:"text-xl",children:x.name}),2==s&&a.jsx(v,{className:"w-1rem",width:"100%",src:"https://www.bilibili.com/favicon.ico"})]}),a.jsxs("div",{className:"flex text-xs gap-2",children:[a.jsxs("div",{className:"bg-primary-900 border-round tag select-none text-white",children:["Lv.",x.level]}),a.jsxs("div",{className:"surface-d border-round tag",children:["UID:",x.uid]})]})]})]}),u=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-600 select-none",children:"理智"}),a.jsx("div",{className:"flex-grow-1"}),a.jsxs("div",{className:"flex align-items-baseline gap-1",children:[a.jsx("div",{className:"text-xl text-primary",children:j>x.ap.max?x.ap.max:j}),a.jsx("div",{className:"text-xs text-600",children:"/"}),a.jsx("div",{className:"text-xs text-600",children:x.ap.max})]}),a.jsx(we,{value:j/x.ap.max*100})]}),N=a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex text-xs text-600 select-none",children:[a.jsx("div",{children:"入职时间"}),a.jsx("div",{className:"flex-grow-1"}),a.jsxs("div",{children:["已苏醒 ",Math.ceil((Date.now()/1e3-x.registerTs)/86400)," 天"]})]}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:"text-xl text-primary",children:pe(x.registerTs,{format:fe.ShortYearNoSecondsDatetime,sec:!0})})]}),f=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-600 select-none",children:"作战进度"}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:"text-xl text-primary",children:x.mainStageProgress||"全部完成"})]}),p=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-600 select-none",children:"助理干员"}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:"text-xl text-primary",children:n[x.secretary.charId].name})]}),w=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex text-xs text-600 select-none",children:"家具保有量"}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:"text-xl text-primary",children:r.furniture.total})]}),y=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-600 select-none",children:"干员招募数"}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:"text-xl text-primary",children:i.find((e=>"char_1001_amiya2"===e.charId))?i.length-1:i.length})]}),b=a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-600 select-none",children:"时装拥有数"}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:"text-xl text-primary",children:m.length})]}),A=a.jsx("div",{className:"flex flex-grow-1 -m-2",children:a.jsxs("div",{className:"flex flex-column col",children:[a.jsx("div",{className:"text-xs text-600 select-none",children:"日常周常"}),a.jsx("div",{className:"flex-grow-1"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex flex-grow-1 align-items-baseline",children:[a.jsx("div",{className:"text-lg text-primary",children:d.daily.current}),a.jsxs("div",{className:"text-xs text-600",children:["/",d.daily.total]})]}),a.jsxs("div",{className:"flex flex-grow-1 align-items-baseline",children:[a.jsx("div",{className:"text-lg text-primary",children:d.weekly.current}),a.jsxs("div",{className:"text-xs text-600",children:["/",d.weekly.total]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{className:"flex-grow-1",value:d.daily.current/d.daily.total*100}),a.jsx(we,{className:"flex-grow-1",value:d.weekly.current/d.weekly.total*100})]})]})}),I=a.jsx("div",{className:"flex flex-grow-1 -m-2",children:a.jsxs("div",{className:"flex flex-column col",children:[a.jsx("div",{className:"text-xs text-600 select-none",children:"保全派驻"}),a.jsx("div",{className:"flex-grow-1"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("div",{className:"flex flex-grow-1 align-items-baseline",children:[a.jsx("div",{className:"text-lg text-purple-300",children:h.reward.lowerItem.current}),a.jsxs("div",{className:"text-xs text-600",children:["/",h.reward.lowerItem.total]})]}),a.jsxs("div",{className:"flex flex-grow-1 align-items-baseline",children:[a.jsx("div",{className:"text-lg",style:{color:"gold"},children:h.reward.higherItem.current}),a.jsxs("div",{className:"text-xs text-600",children:["/",h.reward.higherItem.total]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(we,{className:"flex-grow-1",color:"var(--purple-300)",value:h.reward.lowerItem.current/h.reward.lowerItem.total*100}),a.jsx(we,{className:"flex-grow-1",color:"gold",value:h.reward.higherItem.current/h.reward.higherItem.total*100})]})]})}),C=a.jsx("div",{className:"flex flex-grow-1 -m-2",children:a.jsxs("div",{className:"flex flex-column col",children:[a.jsx("div",{className:"text-xs text-600 select-none",children:"剿灭作战"}),a.jsx("div",{className:"flex-grow-1"}),a.jsxs("div",{className:"flex align-items-baseline text-xl",children:[a.jsx("div",{className:"text-lg text-red-500",children:c.reward.current}),a.jsx("div",{className:"text-xs text-600",children:"/"}),a.jsx("div",{className:"text-xs text-600",children:c.reward.total})]}),a.jsx("div",{className:"flex gap-1",children:a.jsx(we,{className:"flex-grow-1",color:"var(--red-500)",value:c.reward.current/c.reward.total*100})})]})}),k=(...e)=>a.jsxs("div",{className:"flex h-4rem",children:[a.jsx("div",{className:"flex flex-column col h-full",children:e.shift()}),e.map(((e,s)=>a.jsxs(l.Fragment,{children:[a.jsx(t,{className:"m-0",layout:"vertical"}),a.jsx("div",{className:"flex flex-column col h-full",children:e})]},s)))]});return a.jsxs("div",{className:"flex flex-column surface-card border-round-xl shadow-2",children:[a.jsxs("div",{className:"flex h-4rem",children:[a.jsx("div",{className:"flex align-items-center flex-shrink-0 w-8 gap-2 p-2",children:g}),a.jsx(t,{className:"m-0",layout:"vertical"}),a.jsx("div",{className:"flex flex-column flex-shrink-0 col h-full",children:u})]}),a.jsx(t,{className:"m-0"}),k(N,f,p),a.jsx(t,{className:"m-0"}),k(w,y,b,A,I,C)]})},Ae=["/Enhance-for-Skland/static/png/a69e0c58.png","/Enhance-for-Skland/static/png/c5afa4f8.png","/Enhance-for-Skland/static/png/68829f40.png"],Ie=({model:e})=>{const{assistChars:s,charInfoMap:l,equipmentInfoMap:r}=e,c=e=>{var s,c,i;if(e){const t=e.equip&&r[e.equip.id];return a.jsxs("div",{className:"flex gap-2 gap-2",children:[a.jsxs("div",{className:"relative flex-shrink-0 surface-d w-6rem h-6rem border-round-xl overflow-hidden",children:[a.jsx(v,{className:"absolute",width:"100%",src:ue(e.skinId)}),a.jsx(v,{className:"absolute right-0 bottom-0 w-2rem h-2rem bg-black-alpha-30",width:"100%",src:Ae[e.evolvePhase]})]}),a.jsxs("div",{className:"flex flex-column flex-grow-1",children:[a.jsxs("div",{className:"flex align-items-center gap-2",children:[a.jsx("div",{className:"text-lg",children:l[e.charId].name}),a.jsx("div",{className:"flex-grow-1"}),a.jsx(o,{label:e.level.toString(),shape:"circle"})]}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:"flex align-items-center gap-2",children:t&&"original"!=t.typeIcon&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative flex center w-2rem h-2rem",children:[a.jsx(v,{className:"absolute",width:"100%",src:(i=t.shiningColor,`https://web.hycdn.cn/arknights/game/assets/uniequip/type/shining/${i}.png`)}),a.jsx(v,{className:"absolute",width:"100%",src:(c=t.typeIcon,`https://web.hycdn.cn/arknights/game/assets/uniequip/type/icon/${c}.png`)})]}),a.jsxs("div",{className:"flex align-items-center gap-2",children:[a.jsx("div",{children:t.typeIcon.toUpperCase()}),a.jsxs("div",{className:"text-xs bg-primary-900 border-round tag select-none",children:["Lv.",null==(s=e.equip)?void 0:s.level]})]})]})}),a.jsxs("div",{className:"flex align-items-end gap-2",children:[e.skillId?a.jsx(o,{image:Ne(e.skillId)}):a.jsx(o,{}),a.jsxs("div",{className:"flex flex-column flex-grow-1",children:[a.jsxs("div",{className:"flex select-none",children:[a.jsx("div",{children:"Rank."}),a.jsx("div",{children:e.mainSkillLvl+e.specializeLevel})]}),a.jsxs("div",{className:"flex gap-1",children:[a.jsx(we,{className:"flex-grow-1",value:e.mainSkillLvl/7*100}),a.jsx(we,{className:"w-1rem",value:e.specializeLevel>=1?100:0,color:"lightgreen"}),a.jsx(we,{className:"w-1rem",value:e.specializeLevel>=2?100:0,color:"gold"}),a.jsx(we,{className:"w-1rem",value:3==e.specializeLevel?100:0,color:"tomato"})]})]})]})]})]})}return a.jsx("div",{className:"surface-0 border-round-xl flex h-6rem center text-xl text-d select-none",children:"NO INFO"})};return a.jsxs("div",{className:"flex flex-column surface-card border-round-xl shadow-2",children:[a.jsxs("div",{className:"flex align-items-baseline gap-2 select-none p-3",children:[a.jsx("div",{className:"text-xl",children:"助战干员"}),a.jsx("div",{className:"text-xs",children:"SUPPORT UNIT"})]}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"flex flex-column p-3 gap-3",children:[c(s[0]),c(s[1]),c(s[2])]})]})},Ce={1:"近卫干员",2:"狙击干员",3:"重装干员",4:"医疗干员",5:"辅助干员",6:"术师干员",7:"特种干员",8:"先锋干员",9:"近战位",10:"远程位",12:"控场",13:"爆发",15:"治疗",16:"支援",17:"新手",18:"费用回复",19:"输出",20:"生存",21:"群攻",22:"防护",23:"减速",24:"削弱",25:"快速复活",26:"位移"},ke=e=>{switch(e){case 7:case 12:case 13:case 16:case 24:case 25:case 26:return"mediumslateblue"}return"transparent"},Se=({model:e})=>{const{building:s,recruit:l}=e,r=(e,s)=>{const l=()=>{switch(e.state){case 1:return 0;case 3:return 100;case 2:const s=e.finishTs-Date.now()/1e3;return s<=0?100:(e.duration-s)/e.duration*100}};return a.jsxs("div",{className:"flex col surface-0 border-round-lg gap-2",children:[a.jsx(o,{label:s.toString()}),a.jsxs("div",{className:"flex flex-column flex-grow-1 justify-content-end gap-1",children:[a.jsxs("div",{className:"flex align-items-center gap-1",children:[e.selectTags.map((({tagId:e})=>a.jsx("div",{className:"text-xs surface-d border-round overflow-hidden",children:a.jsx("div",{className:"tag",style:{background:ke(e)},children:Ce[e]||`Tag_${e}`})},e))),a.jsx("div",{className:"flex-grow-1"})]}),a.jsx(we,{value:l()})]}),a.jsx(o,{icon:(()=>{const s=a.jsx(M,{style:{color:"lightblue"}}),r=a.jsx(R,{className:"p-icon-spin",style:{color:"gold"}}),c=a.jsx(G,{style:{color:"lightgreen"}});switch(e.state){case 1:return s;case 2:return 100==l()?c:r;case 3:return c}})()})]})};return a.jsxs("div",{className:"flex flex-column surface-card border-round-xl shadow-2",children:[a.jsxs("div",{className:"flex align-items-baseline gap-2 select-none p-3",children:[a.jsx("div",{className:"text-xl",children:"公开招募"}),a.jsx("div",{className:"text-sm",children:"NORMAL GACHA"}),a.jsx("div",{className:"flex-grow-1"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("div",{children:"联络次数"}),a.jsx(u,{className:"gap-1 text-primary",stars:3,cancel:!1,value:s.hire.refreshCount,onIcon:a.jsx(L,{className:"p-icon-spin"}),offIcon:a.jsx(L,{className:"text-300"}),readOnly:!0})]})]}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"flex flex-column gap-3 p-3",children:[a.jsxs("div",{className:"flex gap-3",children:[r(l[0],1),r(l[1],2)]}),a.jsxs("div",{className:"flex gap-3",children:[r(l[2],3),r(l[3],4)]})]})]})},De=({className:e,children:s})=>a.jsx("div",{className:e,children:a.jsx("div",{className:"flex flex-column surface-0 border-round-lg",children:s})}),Le=({title:e,level:s,children:l,className:r})=>a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex align-items-center gap-2 select-none p-2",style:{height:"2.5rem"},children:[a.jsxs("div",{className:"flex align-items-baseline gap-2",children:[a.jsx("div",{children:e}),a.jsxs("div",{className:"text-xs",children:["Lv.",s]})]}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:r,children:l})]}),a.jsx(t,{className:"m-0"})]}),Me=({chars:e,max:s,method:l})=>{if(e||(e=[]),e.length<s)for(let a=e.length;a<s;a++)e.push({charId:`empty_${a}`,ap:0,index:-1});return a.jsx("div",{className:"flex h-2rem gap-2",children:e.map((e=>a.jsxs("div",{className:"flex col gap-2 overflow-hidden p-0",children:[a.jsx("div",{className:"flex flex-shrink-0 surface-d border-round-lg overflow-hidden",children:-1==e.index?a.jsx(o,{icon:a.jsx(U,{})}):a.jsx(o,{image:l.getAvatar(e.charId)})}),a.jsxs("div",{className:"flex flex-column flex-grow-1 justify-content-end overflow-hidden gap-1",children:[a.jsx("div",{className:"text-xs text-ellipsis",children:-1!=e.index?l.getName(e.charId):"虚位以待"}),a.jsx(we,{value:e.ap<=0&&-1!=e.index?100:e.ap/86400,color:`hsl(${e.ap/86400}, 100%, 64%)`})]})]},e.charId)))})},Re=({model:e,method:s})=>a.jsxs(l.Fragment,{children:[a.jsx(Le,{title:"控制中枢",level:e.level}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[a.jsxs("div",{className:"flex align-items-center h-2rem gap-2",children:[a.jsx(o,{icon:a.jsx(O,{})}),a.jsx("div",{children:"LEVEL OF CONTROL INTERFACE"})]}),a.jsx(Me,{chars:e.chars,max:5,method:s})]})]}),Ge=({model:e,method:s})=>a.jsxs(a.Fragment,{children:[a.jsx(Le,{title:"制造站",level:e.level,children:a.jsxs("div",{className:"flex text-sm align-items-center gap-1",style:{color:"gold"},children:[a.jsx(T,{}),a.jsxs("div",{children:[(100*e.speed).toFixed(0),"%"]})]})}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[a.jsxs("div",{className:"flex h-2rem gap-2 select-none",children:[a.jsx(o,{icon:a.jsx(z,{})}),a.jsxs("div",{className:"flex flex-column justify-content-end flex-grow-1 gap-1",children:[a.jsxs("div",{className:"flex align-items-baseline gap-1",children:[a.jsx("div",{className:"text-lg",style:{color:"gold"},children:e.weight}),a.jsx("div",{className:"text-xs",children:"/"}),a.jsx("div",{className:"text-xs",children:e.capacity}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:"text-sm",style:{color:"gold"},children:{1:"基础作战记录",2:"初级作战记录",3:"中级作战记录",4:"赤金",5:"先锋双芯片",6:"近卫双芯片",7:"重装双芯片",8:"狙击双芯片",9:"术师双芯片",10:"医疗双芯片",11:"辅助双芯片",12:"特种双芯片",13:"源石碎片",14:"源石碎片"}[e.formulaId]})]}),a.jsx(we,{value:e.weight/e.capacity*100,color:"gold"})]}),a.jsx(o,{className:"text-sm",label:e.complete.toString(),shape:"circle"})]}),a.jsx(Me,{chars:e.chars,max:3,method:s})]})]}),Ue=({model:e,method:s})=>{const[r,c]=l.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsx(Le,{title:"贸易站",level:e.level,children:a.jsx(d,{className:"text-sm p-0",icon:a.jsx(B,{className:"mr-1"}),label:"订单",text:!0,onClick:()=>c(!0),disabled:0==e.stock.length,style:{color:0==e.stock.length?"grey":"deepskyblue"}})}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[a.jsxs("div",{className:"flex h-2rem gap-2 select-none",children:[a.jsx(o,{icon:a.jsx(F,{})}),a.jsxs("div",{className:"flex flex-column justify-content-end flex-grow-1 gap-1",children:[a.jsxs("div",{className:"flex align-items-baseline gap-1",children:[a.jsx("div",{className:"text-lg",style:{color:"deepskyblue"},children:e.stock.length}),a.jsx("div",{className:"text-xs",children:"/"}),a.jsx("div",{className:"text-xs",children:e.stockLimit}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{className:"flex align-items-center gap-1",children:a.jsx("div",{className:"text-sm",style:{color:"O_GOLD"==e.strategy?"deepskyblue":"tomato"},children:"O_GOLD"==e.strategy?"龙门商法":"开采协力"})})]}),a.jsx(we,{value:e.stock.length/e.stockLimit*100,color:"deepskyblue"})]})]}),a.jsx(Me,{chars:e.chars,max:3,method:s})]}),a.jsx(N,{header:"订单",headerClassName:"select-none",style:{width:"55rem"},onHide:()=>c(!1),visible:r,resizable:!1,draggable:!1,children:a.jsx(f,{value:e.stock,itemTemplate:e=>a.jsxs("div",{className:"flex flex-column w-8rem flex-shrink-0 surface-0 border-round-lg m-2 select-none",children:[a.jsxs("div",{className:"flex align-items-center p-2",style:{color:"deepskyblue"},children:[a.jsx("div",{className:"text-xs",children:"O_GOLD"==e.type?"贵金属订单":"源石订单"}),a.jsx("div",{className:"flex-grow-1"}),a.jsx(E,{})]}),a.jsx(t,{className:"m-0",type:"dashed"}),a.jsxs("div",{className:"flex flex-column p-2",children:[a.jsx("div",{className:"flex text-xl",children:a.jsx(Z,{})}),a.jsx("div",{className:"flex text-6xl justify-content-center",children:e.delivery[0].count}),a.jsx("div",{className:"flex text-sm justify-content-end",style:{color:"gold"},children:3003==e.delivery[0].id?"赤金":"源石碎片"})]}),a.jsx(t,{className:"m-0",type:"dashed"}),a.jsxs("div",{className:"flex text-sm align-items-center p-2 gap-1",children:[a.jsx(v,{width:"24",src:"GOLD"==e.gain.type?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuYTg3MzFiOSwgMjAyMS8wOS8wOS0wMDozNzozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMy0wOC0wM1QxMzowMjo1NCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDgtMDNUMTM6MDQ6MDIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjMtMDgtMDNUMTM6MDQ6MDIrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc3ZDc3MmE5LTZlMzUtNDM0MC05NjAwLTJlNjc4NjQ3ZjZmNSIgeG1wTU06RG9jdW1lbnRJRD0i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":"/Enhance-for-Skland/static/png/ab127956.png"}),a.jsx("div",{children:e.gain.count}),a.jsx("div",{className:"flex-grow-1"}),a.jsx(Y,{className:"text-xl"})]})]}),numScroll:5,numVisible:5})})]})},Oe=({model:e,method:s})=>{const l=2**(e.level-1)*60+10*(2**(e.level-1)-1);return a.jsxs(a.Fragment,{children:[a.jsx(Le,{title:"发电站",level:e.level,children:a.jsxs("div",{className:"flex text-sm align-items-center gap-1",style:{color:"greenyellow"},children:[a.jsx(J,{}),a.jsx("div",{children:l})]})}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[a.jsxs("div",{className:"flex h-2rem gap-2",children:[a.jsx(o,{icon:a.jsx(K,{})}),a.jsx("div",{className:"flex align-items-center flex-grow-1 gap-2",children:a.jsx(we,{className:"flex-grow-1 h-full",indeterminate:!0,color:"greenyellow"})})]}),a.jsx(Me,{chars:e.chars,max:1,method:s})]})]})},Te=({model:e,method:s})=>a.jsxs(a.Fragment,{children:[a.jsx(Le,{title:"宿舍",level:e.level,children:a.jsxs("div",{className:"flex text-sm align-items-center gap-1",style:{color:"greenyellow"},children:[a.jsx(Q,{}),a.jsx("div",{children:e.comfort})]})}),a.jsx(t,{className:"m-0"}),a.jsx("div",{className:"flex flex-column gap-2 p-2",children:a.jsx(Me,{chars:e.chars,max:5,method:s})})]}),ze=({model:e,method:s})=>a.jsxs(a.Fragment,{children:[a.jsx(Le,{title:"办公室",level:e.level}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[a.jsxs("div",{className:"flex h-2rem gap-2",children:[a.jsx(o,{icon:a.jsx(H,{})}),a.jsx(we,{className:"flex-grow-1 h-full",indeterminate:0==e.refreshCount,value:100*e.refreshCount}),a.jsx(we,{className:"flex-grow-1 h-full",indeterminate:1==e.refreshCount,value:100*Math.max(e.refreshCount-1,0)}),a.jsx(we,{className:"flex-grow-1 h-full",indeterminate:2==e.refreshCount,value:100*Math.max(e.refreshCount-2,0)})]}),a.jsx(Me,{chars:e.chars,max:1,method:s})]})]}),Be=({model:e,method:s})=>{const l=s=>e.clue.board.find((e=>e==s))&&"white";return a.jsxs(a.Fragment,{children:[a.jsx(Le,{title:"会客室",level:e.level,children:a.jsx("div",{className:"flex text-sm align-items-center gap-1",style:{color:"orange"},children:e.clue.sharing&&a.jsxs(a.Fragment,{children:[a.jsx(W,{className:"p-icon-spin"}),a.jsx("div",{children:"线索交流开启中"})]})})}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[a.jsxs("div",{className:"flex h-2rem gap-2",children:[a.jsx(o,{icon:a.jsx(P,{})}),a.jsxs("div",{className:"flex flex-column justify-content-end flex-grow-1 gap-1",children:[a.jsxs("div",{className:"flex align-items-baseline gap-1",children:[a.jsx("div",{className:"text-lg",style:{color:"orange"},children:e.clue.own}),a.jsx("div",{className:"text-xs",children:"/"}),a.jsx("div",{className:"text-xs",children:"10"}),a.jsx("div",{className:"flex-grow-1"}),a.jsxs("div",{className:"flex gap-1",style:{color:"transparent"},children:[a.jsx(X,{style:{color:l("RHINE")}}),a.jsx(V,{style:{color:l("PENGUIN")}}),a.jsx($,{style:{color:l("BLACKSTEEL")}}),a.jsx(_,{style:{color:l("URSUS")}}),a.jsx(q,{style:{color:l("GLASGOW")}}),a.jsx(ee,{style:{color:l("KJERAG")}}),a.jsx(se,{style:{color:l("RHODES")}})]})]}),a.jsx(we,{value:10*e.clue.own,color:"orange"})]})]}),a.jsx(Me,{chars:e.chars,max:2,method:s})]})]})},Fe=({model:e,method:s})=>{const l=()=>e.trainee&&-1!=e.trainee.targetSkill?s.getSkillLevel(e.trainee.charId,e.trainee.targetSkill):-1,r=s=>e.trainee&&l()>=s?100:0,c=s=>0!=e.remainSecs&&l()==s-1;return a.jsxs(a.Fragment,{children:[a.jsx(Le,{title:"训练室",level:e.level}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[a.jsxs("div",{className:"flex h-2rem gap-2",children:[a.jsx("div",{className:"flex surface-d border-round-lg overflow-hidden",children:e.trainee?a.jsx(o,{image:s.getAvatar(e.trainee.charId)}):a.jsx(o,{icon:a.jsx(le,{})})}),e.trainee&&-1!=e.trainee.targetSkill?a.jsx(o,{image:s.getSkillIcon(e.trainee.charId,e.trainee.targetSkill)}):a.jsx(o,{}),a.jsx(we,{className:"flex-grow-1 h-full",color:"lightgreen",value:r(0),indeterminate:c(1)}),a.jsx(we,{className:"flex-grow-1 h-full",color:"gold",value:r(1),indeterminate:c(2)}),a.jsx(we,{className:"flex-grow-1 h-full",color:"tomato",value:r(2),indeterminate:c(3)})]}),a.jsx(Me,{chars:e.trainer&&[e.trainer],max:1,method:s})]})]})},Ee=({model:e})=>{const{building:s,chars:l,charInfoMap:r}=e,{control:c,dormitories:i,hire:n,labor:d,manufactures:x,meeting:o,powers:m,tradings:h,training:j}=s,g=e=>l.find((s=>s.charId==e)),v={getAvatar:e=>{const s=g(e);if(s)return ue(s.skinId)},getName:e=>r[e].name,getSkillIcon:(e,s)=>{const l=g(e);return Ne(l.skills[s].id)},getSkillLevel:(e,s)=>g(e).skills[s].specializeLevel},u=e=>{const s=s=>s.slotId==e,l=i.find(s);if(l)return a.jsx(Te,{model:l,method:v});const r=x.find(s);if(r)return a.jsx(Ge,{model:r,method:v});const c=m.find(s);if(c)return a.jsx(Oe,{model:c,method:v});const t=h.find(s);return t?a.jsx(Ue,{model:t,method:v}):void 0},N=ye.DroneCorrect?Math.min(Math.round((Date.now()/1e3-d.lastUpdateTime)/360+d.value),d.maxValue):d.value;return a.jsxs("div",{className:"flex flex-column surface-card border-round-xl",children:[a.jsxs("div",{className:"flex align-items-baseline gap-2 select-none p-3",children:[a.jsx("div",{className:"text-xl",children:"基建"}),a.jsx("div",{className:"text-sm",children:"RHODES ISLAND INFRASTRUCTURE COMPLEX"}),a.jsx("div",{className:"flex-grow-1"}),a.jsxs("div",{className:"flex flex-column w-6rem",children:[a.jsxs("div",{className:"flex align-items-baseline gap-1",children:[a.jsx(ae,{className:"text-purple-300"}),a.jsx("div",{className:"text-purple-300",children:N}),a.jsx("div",{className:"text-xs",children:"/"}),a.jsx("div",{className:"text-xs",children:d.maxValue})]}),a.jsx(we,{value:N/d.maxValue*100,color:"var(--purple-300)"})]})]}),a.jsx(t,{className:"m-0"}),a.jsxs("div",{className:"grid flex-wrap p-3",children:[a.jsx(De,{className:"col-12",children:a.jsx(Re,{model:c,method:v})}),a.jsx(De,{className:"col-4",children:u("slot_24")}),a.jsx(De,{className:"col-4",children:u("slot_25")}),a.jsx(De,{className:"col-4",children:u("slot_26")}),a.jsx(De,{className:"col-4",children:u("slot_14")}),a.jsx(De,{className:"col-4",children:u("slot_15")}),a.jsx(De,{className:"col-4",children:u("slot_16")}),a.jsx(De,{className:"col-4",children:u("slot_5")}),a.jsx(De,{className:"col-4",children:u("slot_6")}),a.jsx(De,{className:"col-4",children:u("slot_7")}),a.jsx(De,{className:"col-4",children:a.jsx(Be,{model:o,method:v})}),a.jsx(De,{className:"col-4",children:a.jsx(ze,{model:n,method:v})}),a.jsx(De,{className:"col-4",children:a.jsx(Fe,{model:j,method:v})}),a.jsx(De,{className:"col-12",children:u("slot_28")}),a.jsx(De,{className:"col-12",children:u("slot_20")}),a.jsx(De,{className:"col-12",children:u("slot_9")}),a.jsx(De,{className:"col-12",children:u("slot_3")})]})]})};var Ze=(e=>(e[e.SWITCH=0]="SWITCH",e))(Ze||{});const Ye=e=>{var s;const l=e=>{const{type:s,value:l,key:r}=e;if(0===s)return a.jsx(p,{checked:l[r],onChange:e=>l[r]=e.value})};return a.jsxs("div",{className:"flex flex-column surface-0 border-round-xl select-none",children:[a.jsxs("div",{className:"flex text-lg align-items-center gap-2 p-3",children:[a.jsx(o,{icon:e.icon}),a.jsx("div",{children:e.header})]}),a.jsx(t,{className:"m-0"}),a.jsx("div",{className:"flex flex-column gap-2 p-3",children:null==(s=e.value)?void 0:s.map(((e,s)=>((e,s)=>a.jsxs(a.Fragment,{children:[0!==s&&a.jsx(t,{className:"mt-2",type:"dashed"}),a.jsxs("div",{className:"flex flex-column gap-1",children:[a.jsxs("div",{className:"flex align-items-center",children:[a.jsx("div",{children:e.label}),a.jsx("div",{className:"flex-grow-1"}),a.jsx("div",{children:l(e)})]}),e.detail&&a.jsx("div",{className:"text-sm text-300",children:e.detail})]},e.key)]}))(e,s)))})]})};Ye.defaultProps={icon:a.jsx(re,{})};const Je=ne(Ye),Ke=e=>{const s=[{detail:"通过算法对理智值进行重新计算，通常情况下它能够使网页中显示的理智尽可能的接近游戏中的实际值。默认值：true",key:"ApCorrect",label:"理智修正",type:Ze.SWITCH,value:ye},{detail:"通过算法对无人机数量进行重新计算，通常情况下它能够使网页中显示的理智尽可能的接近游戏中的实际值，由于受到基建技能影响，修正值可能低于实际值。默认值：false",key:"DroneCorrect",label:"无人机数量修正",type:Ze.SWITCH,value:ye}];return a.jsx(N,{header:e.header,headerClassName:"select-none",onHide:e.onHide,visible:e.visible,resizable:!1,draggable:!1,style:{width:"55rem"},children:a.jsx("div",{className:"flex flex-column gap-3",children:a.jsx(Je,{header:"实验性设置",icon:a.jsx(ce,{}),value:s})})})},Qe=()=>{const e=C(),{state:{uid:s,channel:r}}=k(),[i,t]=l.useState(),[n,x]=l.useState(!1);c((()=>{const l=me("CurrentLogin");l?(he.user=l.user,(async(e,s)=>{const l={url:"/api/v1/game/player/info",params:{uid:s},headers:{cred:e}},{data:{data:a}}=await I(l);return a})(l.cred,s).then((e=>t(e)))):e("/")}));const o=a.jsx("div",{className:"flex text-sm surface-card border-round-xl center select-none",children:"查询结果可能与游戏内数据存在亿点延迟，具体请以游戏内数据为准。"}),m=a.jsxs("div",{className:"flex gap-2",children:[a.jsx(d,{className:"w-2rem h-2rem",icon:a.jsx(L,{}),onClick:()=>location.reload(),outlined:!0}),a.jsx(d,{className:"w-2rem h-2rem",icon:a.jsx(re,{}),onClick:()=>x(!0),outlined:!0})]});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex flex-column gap-4",children:i?a.jsxs("div",{className:"flex flex-column gap-2",children:[a.jsx("div",{className:"grid",children:a.jsx("div",{className:"col-12",children:a.jsx(w,{className:"border-round-xl shadow-2",start:o,end:m})})}),a.jsxs("div",{className:"grid",children:[a.jsxs("div",{className:"flex flex-column col-8 gap-3",children:[a.jsx(be,{model:i,channel:r}),a.jsx(Se,{model:i})]}),a.jsx("div",{className:"flex flex-column col-4 gap-3",children:a.jsx(Ie,{model:i})})]}),a.jsx("div",{className:"grid",children:a.jsx("div",{className:"col-12",children:a.jsx(Ee,{model:i})})})]}):a.jsx("div",{className:"flex flex-grow-1 center",children:"Loading"})}),a.jsx(Ke,{header:"设置",onHide:()=>x(!1),visible:n})]})},He=(e,s,l)=>({path:e,element:s,children:l}),We=[He("binding",a.jsx(ve,{})),He("arknights",void 0,[He("info",a.jsx(Qe,{}))]),He("",a.jsx(je,{}))],Pe=ne((()=>{const e=C(),s=l.useRef(null),r=[{label:"切换角色",icon:a.jsx(ie,{className:"mr-2"}),command:()=>e("/binding")},{separator:!0},{label:"退出登录",icon:a.jsx(te,{className:"mr-2"}),command:()=>{var s;s="CurrentLogin",sessionStorage.removeItem(s),he.user=void 0,e("/")}}];return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"flex align-items-center h-4rem px-3 gap-3 surface-card select-none",children:[a.jsxs("div",{className:"flex align-items-center gap-1",children:[a.jsxs("div",{className:"flex flex-column",children:[a.jsx("div",{className:"text-xs font-italic",children:"Enhance for"}),a.jsx("div",{className:"text-2xl",style:{lineHeight:"1.75rem"},children:"Skland."})]}),a.jsx(h,{severity:"info",children:"Beta"})]}),a.jsx("div",{className:"flex-grow-1"}),he.user&&a.jsx(d,{className:"surface-0",onClick:e=>{var l;return null==(l=s.current)?void 0:l.toggle(e)},text:!0,children:a.jsxs("div",{className:"flex align-items-center gap-2",children:[a.jsx("div",{className:"flex border-circle overflow-hidden",children:a.jsx(o,{image:he.user.user.avatar})}),a.jsx("div",{children:he.user.user.nickname})]})}),a.jsx(y,{ref:s,className:"mt-3",model:r,popup:!0})]}),a.jsx(t,{className:"m-0"})]})})),Xe=()=>{const e=S(We);return a.jsxs("div",{className:"flex flex-column w-full h-screen align-items-center",children:[a.jsx("div",{className:"w-full shadow-2 z-5",children:a.jsx(Pe,{})}),a.jsx(b,{className:"w-full",style:{height:"calc(100vh - 4rem)"},children:a.jsx("div",{className:"flex h-full center",children:a.jsx("div",{className:"py-8 w-full h-full",style:{maxWidth:1e3},children:e})})})]})};I.defaults.baseURL="https://zonai.skland.com",I.defaults.headers.platform=1,I.defaults.headers.os=32,I.defaults.headers.language="zh-cn",I.defaults.headers.vName="0.1.4",I.defaults.headers.manufacturer="Samsung",r.createRoot(document.getElementById("root")).render(a.jsx(de,{children:a.jsx(Xe,{})}));
