import{_ as t,a as e,b as n,c as i}from"./25f942a5.js";import{a as r,r as s}from"./be2fa48a.js";import{R as o,r as a}from"./63eebe13.js";import{R as p}from"./10322d52.js";const l=!1,u=o.createContext(null);var c=function(t){return t.scrollTop},d="unmounted",f="exited",h="entering",E="entered",m="exiting",x=function(n){function i(t,e){var i;i=n.call(this,t,e)||this;var r,s=e&&!e.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?s?(r=f,i.appearStatus=h):r=E:r=t.unmountOnExit||t.mountOnEnter?d:f,i.state={status:r},i.nextCallback=null,i}t(i,n),i.getDerivedStateFromProps=function(t,e){return t.in&&e.status===d?{status:f}:null};var r=i.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==h&&n!==E&&(e=h):n!==h&&n!==E||(e=m)}this.updateStatus(!1,e)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!=typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},r.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e)if(this.cancelNextCallback(),e===h){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:p.findDOMNode(this);n&&c(n)}this.performEnter(t)}else this.performExit();else this.props.unmountOnExit&&this.state.status===f&&this.setState({status:d})},r.performEnter=function(t){var e=this,n=this.props.enter,i=this.context?this.context.isMounting:t,r=this.props.nodeRef?[i]:[p.findDOMNode(this),i],s=r[0],o=r[1],a=this.getTimeouts(),u=i?a.appear:a.enter;!t&&!n||l?this.safeSetState({status:E},(function(){e.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:h},(function(){e.props.onEntering(s,o),e.onTransitionEnd(u,(function(){e.safeSetState({status:E},(function(){e.props.onEntered(s,o)}))}))})))},r.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:p.findDOMNode(this);e&&!l?(this.props.onExit(i),this.safeSetState({status:m},(function(){t.props.onExiting(i),t.onTransitionEnd(n.exit,(function(){t.safeSetState({status:f},(function(){t.props.onExited(i)}))}))}))):this.safeSetState({status:f},(function(){t.props.onExited(i)}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},r.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},r.onTransitionEnd=function(t,e){this.setNextCallback(e);var n=this.props.nodeRef?this.props.nodeRef.current:p.findDOMNode(this),i=null==t&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=r[0],o=r[1];this.props.addEndListener(s,o)}null!=t&&setTimeout(this.nextCallback,t)}else setTimeout(this.nextCallback,0)},r.render=function(){var t=this.state.status;if(t===d)return null;var n=this.props,i=n.children;n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef;var r=e(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return o.createElement(u.Provider,{value:null},"function"==typeof i?i(t,r):o.cloneElement(o.Children.only(i),r))},i}(o.Component);function v(){}x.contextType=u,x.propTypes={},x.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:v,onEntering:v,onEntered:v,onExit:v,onExiting:v,onExited:v},x.UNMOUNTED=d,x.EXITED=f,x.ENTERING=h,x.ENTERED=E,x.EXITING=m;const C=x;var g=function(t,e){return t&&e&&e.split(" ").forEach((function(e){return s(t,e)}))},b=function(i){function s(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=i.call.apply(i,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){var i=t.resolveArguments(e,n),r=i[0],s=i[1];t.removeClasses(r,"exit"),t.addClass(r,s?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var i=t.resolveArguments(e,n),r=i[0],s=i[1]?"appear":"enter";t.addClass(r,s,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var i=t.resolveArguments(e,n),r=i[0],s=i[1]?"appear":"enter";t.removeClasses(r,s),t.addClass(r,s,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"appear"),t.removeClasses(n,"enter"),t.addClass(n,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.resolveArguments(e)[0];t.addClass(n,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.resolveArguments(e)[0];t.removeClasses(n,"exit"),t.addClass(n,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,n){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,n]},t.getClassNames=function(e){var n=t.props.classNames,i="string"==typeof n,r=i?""+(i&&n?n+"-":"")+e:n[e];return{baseClassName:r,activeClassName:i?r+"-active":n[e+"Active"],doneClassName:i?r+"-done":n[e+"Done"]}},t}t(s,i);var a=s.prototype;return a.addClass=function(t,e,n){var i=this.getClassNames(e)[n+"ClassName"],s=this.getClassNames("enter").doneClassName;"appear"===e&&"done"===n&&s&&(i+=" "+s),"active"===n&&t&&c(t),i&&(this.appliedClasses[e][n]=i,function(t,e){t&&e&&e.split(" ").forEach((function(e){return r(t,e)}))}(t,i))},a.removeClasses=function(t,e){var n=this.appliedClasses[e],i=n.base,r=n.active,s=n.done;this.appliedClasses[e]={},i&&g(t,i),r&&g(t,r),s&&g(t,s)},a.render=function(){var t=this.props;t.classNames;var i=e(t,["classNames"]);return o.createElement(C,n({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},s}(o.Component);b.defaultProps={classNames:""},b.propTypes={};const N=b;function S(t,e){var n=Object.create(null);return t&&a.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&a.isValidElement(t)?e(t):t}(t)})),n}function k(t,e,n){return null!=n[e]?n[e]:t.props[e]}function y(t,e,n){var i=S(t.children),r=function(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var i,r=Object.create(null),s=[];for(var o in t)o in e?s.length&&(r[o]=s,s=[]):s.push(o);var a={};for(var p in e){if(r[p])for(i=0;i<r[p].length;i++){var l=r[p][i];a[r[p][i]]=n(l)}a[p]=n(p)}for(i=0;i<s.length;i++)a[s[i]]=n(s[i]);return a}(e,i);return Object.keys(r).forEach((function(s){var o=r[s];if(a.isValidElement(o)){var p=s in e,l=s in i,u=e[s],c=a.isValidElement(u)&&!u.props.in;!l||p&&!c?l||!p||c?l&&p&&a.isValidElement(u)&&(r[s]=a.cloneElement(o,{onExited:n.bind(null,o),in:u.props.in,exit:k(o,"exit",t),enter:k(o,"enter",t)})):r[s]=a.cloneElement(o,{in:!1}):r[s]=a.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:k(o,"exit",t),enter:k(o,"enter",t)})}})),r}var O=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},T=function(r){function s(t,e){var n,s=(n=r.call(this,t,e)||this).handleExited.bind(i(n));return n.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},n}t(s,r);var p=s.prototype;return p.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},p.componentWillUnmount=function(){this.mounted=!1},s.getDerivedStateFromProps=function(t,e){var n,i,r=e.children,s=e.handleExited;return{children:e.firstRender?(n=t,i=s,S(n.children,(function(t){return a.cloneElement(t,{onExited:i.bind(null,t),in:!0,appear:k(t,"appear",n),enter:k(t,"enter",n),exit:k(t,"exit",n)})}))):y(t,r,s),firstRender:!1}},p.handleExited=function(t,e){var i=S(this.props.children);t.key in i||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var i=n({},e.children);return delete i[t.key],{children:i}})))},p.render=function(){var t=this.props,n=t.component,i=t.childFactory,r=e(t,["component","childFactory"]),s=this.state.contextValue,a=O(this.state.children).map(i);return delete r.appear,delete r.enter,delete r.exit,null===n?o.createElement(u.Provider,{value:s},a):o.createElement(u.Provider,{value:s},o.createElement(n,r,a))},s}(o.Component);T.propTypes={},T.defaultProps={component:"div",childFactory:function(t){return t}};const R=T;export{N as C,R as T};
