var e=Object.defineProperty,s=(s,l,a)=>(((s,l,a)=>{l in s?e(s,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[l]=a})(s,"symbol"!=typeof l?l+"":l,a),a);import{j as l,r as a}from"./63eebe13.js";import{c as r}from"./10322d52.js";import{P as c,D as i,I as t,A as n,B as d,a as x,C as o,R as m,b as h,u as j,T as g,c as v,d as u,e as N,f,g as p,h as w,M as y,S as b}from"./90cdbbc2.js";import{b as A}from"./4326f4f8.js";import{C as I,a as C,S as k,A as S,b as D,B as L,c as M,N as R,O as G,T as U,d as O,F as T,e as z,f as B,g as F,L as E,h as Z,i as Y,j as J,k as K,E as Q,I as H,D as W,l as P,R as X,m as V,H as $,n as _,o as q,p as ee,q as se,P as le,r as ae}from"./bcef8fae.js";import{o as re}from"./e90285f9.js";import{a as ce}from"./a8ee11a1.js";import{u as ie,a as te,b as ne}from"./dfe7ac38.js";import{H as de}from"./905f201a.js";/* empty css        */import"./4d0ffb58.js";import"./c51d43b5.js";import"./c5acfea1.js";import"./25f942a5.js";import"./be2fa48a.js";import"./190f51f5.js";import"./18c268dd.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&s(e)})).observe(document,{childList:!0,subtree:!0})}function s(e){if(e.ep)return;e.ep=!0;const s=function(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?s.credentials="include":"anonymous"===e.crossOrigin?s.credentials="omit":s.credentials="same-origin",s}(e);fetch(e.href,s)}}();const xe=e=>`https://web.hycdn.cn/arknights/game/assets/char_skin/avatar/${e=(e=e.replace(/@/g,"%40")).replace(/#/g,"%23")}.png`,oe=e=>`https://web.hycdn.cn/arknights/game/assets/char_skill/${e}.png`,me=({className:e,color:s,value:a,height:r,indeterminate:i})=>l.jsx(c,{className:e,value:a,showValue:!1,color:s,mode:i?"indeterminate":"determinate",style:{height:r||"0.2rem"}}),he=["/Enhance-for-Skland/static/png/a69e0c58.png","/Enhance-for-Skland/static/png/c5afa4f8.png","/Enhance-for-Skland/static/png/68829f40.png"],je=({model:e})=>{const{assistChars:s,charInfoMap:a,equipmentInfoMap:r}=e,c=e=>{var s,c,i;if(e){const d=e.equip&&r[e.equip.id];return l.jsxs("div",{className:"flex gap-2 gap-2",children:[l.jsxs("div",{className:"relative flex-shrink-0 surface-d w-6rem h-6rem border-round-xl overflow-hidden",children:[l.jsx(t,{className:"absolute",width:"100%",src:xe(e.skinId)}),l.jsx(t,{className:"absolute right-0 bottom-0 w-2rem h-2rem bg-black-alpha-30",width:"100%",src:he[e.evolvePhase]})]}),l.jsxs("div",{className:"flex flex-column flex-grow-1",children:[l.jsxs("div",{className:"flex align-items-center gap-2",children:[l.jsx("div",{className:"text-lg",children:a[e.charId].name}),l.jsx("div",{className:"flex-grow-1"}),l.jsx(n,{label:e.level.toString(),shape:"circle"})]}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{className:"flex align-items-center gap-2",children:d&&"original"!=d.typeIcon&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"relative flex center w-2rem h-2rem",children:[l.jsx(t,{className:"absolute",width:"100%",src:(i=d.shiningColor,`https://web.hycdn.cn/arknights/game/assets/uniequip/type/shining/${i}.png`)}),l.jsx(t,{className:"absolute",width:"100%",src:(c=d.typeIcon,`https://web.hycdn.cn/arknights/game/assets/uniequip/type/icon/${c}.png`)})]}),l.jsxs("div",{className:"flex align-items-center gap-2",children:[l.jsx("div",{children:d.typeIcon.toUpperCase()}),l.jsxs("div",{className:"text-xs bg-primary-900 border-round tag select-none",children:["Lv.",null==(s=e.equip)?void 0:s.level]})]})]})}),l.jsxs("div",{className:"flex align-items-end gap-2",children:[e.skillId?l.jsx(n,{image:oe(e.skillId)}):l.jsx(n,{}),l.jsxs("div",{className:"flex flex-column flex-grow-1",children:[l.jsxs("div",{className:"flex select-none",children:[l.jsx("div",{children:"Rank."}),l.jsx("div",{children:e.mainSkillLvl+e.specializeLevel})]}),l.jsxs("div",{className:"flex gap-1",children:[l.jsx(me,{className:"flex-grow-1",value:e.mainSkillLvl/7*100}),l.jsx(me,{className:"w-1rem",value:e.specializeLevel>=1?100:0,color:"lightgreen"}),l.jsx(me,{className:"w-1rem",value:e.specializeLevel>=2?100:0,color:"gold"}),l.jsx(me,{className:"w-1rem",value:3==e.specializeLevel?100:0,color:"tomato"})]})]})]})]})]})}return l.jsx("div",{className:"surface-0 border-round-xl flex h-6rem center text-xl text-d select-none",children:"NO INFO"})};return l.jsxs("div",{className:"flex flex-column surface-card border-round-xl shadow-2",children:[l.jsxs("div",{className:"flex align-items-baseline gap-2 select-none p-3",children:[l.jsx("div",{className:"text-xl",children:"助战干员"}),l.jsx("div",{className:"text-xs",children:"SUPPORT UNIT"})]}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"flex flex-column p-3 gap-3",children:[c(s[0]),c(s[1]),c(s[2])]})]})},ge=e=>{const s=localStorage.getItem(e);if(s)return JSON.parse(s)},ve=(e,s)=>localStorage.setItem(e,JSON.stringify(s)),ue=e=>{const s=sessionStorage.getItem(e);if(s)return JSON.parse(s)};const Ne=new class{constructor(){s(this,"_key","Experiment"),s(this,"_ApCorrectKey",`${this._key}.ApCorrect`),s(this,"_DroneCorrectKey",`${this._key}.DroneCorrect`),s(this,"_ApCorrect",ge(this._ApCorrectKey)||!0),s(this,"_DroneCorrect",ge(this._DroneCorrectKey)||!1),A(this)}get ApCorrect(){return this._ApCorrect}set ApCorrect(e){ve(this._ApCorrectKey,e),this._ApCorrect=e}get DroneCorrect(){return this._DroneCorrect}set DroneCorrect(e){ve(this._DroneCorrectKey,e),this._DroneCorrect=e}},fe=({className:e,children:s})=>l.jsx("div",{className:e,children:l.jsx("div",{className:"flex flex-column surface-0 border-round-lg",children:s})}),pe=({title:e,level:s,children:a,className:r})=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex align-items-center gap-2 select-none p-2",style:{height:"2.5rem"},children:[l.jsxs("div",{className:"flex align-items-baseline gap-2",children:[l.jsx("div",{children:e}),l.jsxs("div",{className:"text-xs",children:["Lv.",s]})]}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{className:r,children:a})]}),l.jsx(i,{className:"m-0"})]}),we=({chars:e,max:s,method:a})=>{if(e||(e=[]),e.length<s)for(let l=e.length;l<s;l++)e.push({charId:`empty_${l}`,ap:0,index:-1});return l.jsx("div",{className:"flex h-2rem gap-2",children:e.map((e=>l.jsxs("div",{className:"flex col gap-2 overflow-hidden p-0",children:[l.jsx("div",{className:"flex flex-shrink-0 surface-d border-round-lg overflow-hidden",children:-1==e.index?l.jsx(n,{icon:l.jsx(I,{})}):l.jsx(n,{image:a.getAvatar(e.charId)})}),l.jsxs("div",{className:"flex flex-column flex-grow-1 justify-content-end overflow-hidden gap-1",children:[l.jsx("div",{className:"text-xs text-ellipsis",children:-1!=e.index?a.getName(e.charId):"虚位以待"}),l.jsx(me,{value:e.ap<=0&&-1!=e.index?100:e.ap/86400,color:`hsl(${e.ap/86400}, 100%, 64%)`})]})]},e.charId)))})},ye=({model:e,method:s})=>l.jsxs(a.Fragment,{children:[l.jsx(pe,{title:"控制中枢",level:e.level}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[l.jsxs("div",{className:"flex align-items-center h-2rem gap-2",children:[l.jsx(n,{icon:l.jsx(C,{})}),l.jsx("div",{children:"LEVEL OF CONTROL INTERFACE"})]}),l.jsx(we,{chars:e.chars,max:5,method:s})]})]}),be=({model:e,method:s})=>l.jsxs(l.Fragment,{children:[l.jsx(pe,{title:"宿舍",level:e.level,children:l.jsxs("div",{className:"flex text-sm align-items-center gap-1",style:{color:"greenyellow"},children:[l.jsx(k,{}),l.jsx("div",{children:e.comfort})]})}),l.jsx(i,{className:"m-0"}),l.jsx("div",{className:"flex flex-column gap-2 p-2",children:l.jsx(we,{chars:e.chars,max:5,method:s})})]}),Ae=({model:e,method:s})=>l.jsxs(l.Fragment,{children:[l.jsx(pe,{title:"办公室",level:e.level}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[l.jsxs("div",{className:"flex h-2rem gap-2",children:[l.jsx(n,{icon:l.jsx(S,{})}),l.jsx(me,{className:"flex-grow-1 h-full",indeterminate:0==e.refreshCount,value:100*e.refreshCount}),l.jsx(me,{className:"flex-grow-1 h-full",indeterminate:1==e.refreshCount,value:100*Math.max(e.refreshCount-1,0)}),l.jsx(me,{className:"flex-grow-1 h-full",indeterminate:2==e.refreshCount,value:100*Math.max(e.refreshCount-2,0)})]}),l.jsx(we,{chars:e.chars,max:1,method:s})]})]}),Ie=({model:e,method:s})=>l.jsxs(l.Fragment,{children:[l.jsx(pe,{title:"制造站",level:e.level,children:l.jsxs("div",{className:"flex text-sm align-items-center gap-1",style:{color:"gold"},children:[l.jsx(D,{}),l.jsxs("div",{children:[(100*e.speed).toFixed(0),"%"]})]})}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[l.jsxs("div",{className:"flex h-2rem gap-2 select-none",children:[l.jsx(n,{icon:l.jsx(L,{})}),l.jsxs("div",{className:"flex flex-column justify-content-end flex-grow-1 gap-1",children:[l.jsxs("div",{className:"flex align-items-baseline gap-1",children:[l.jsx("div",{className:"text-lg",style:{color:"gold"},children:e.weight}),l.jsx("div",{className:"text-xs",children:"/"}),l.jsx("div",{className:"text-xs",children:e.capacity}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{className:"text-sm",style:{color:"gold"},children:{1:"基础作战记录",2:"初级作战记录",3:"中级作战记录",4:"赤金",5:"先锋双芯片",6:"近卫双芯片",7:"重装双芯片",8:"狙击双芯片",9:"术师双芯片",10:"医疗双芯片",11:"辅助双芯片",12:"特种双芯片",13:"源石碎片",14:"源石碎片"}[e.formulaId]})]}),l.jsx(me,{value:e.weight/e.capacity*100,color:"gold"})]}),l.jsx(n,{className:"text-sm",label:e.complete.toString(),shape:"circle"})]}),l.jsx(we,{chars:e.chars,max:3,method:s})]})]}),Ce=({model:e,method:s})=>{const a=s=>e.clue.board.find((e=>e==s))&&"white";return l.jsxs(l.Fragment,{children:[l.jsx(pe,{title:"会客室",level:e.level,children:l.jsx("div",{className:"flex text-sm align-items-center gap-1",style:{color:"orange"},children:e.clue.sharing&&l.jsxs(l.Fragment,{children:[l.jsx(M,{className:"p-icon-spin"}),l.jsx("div",{children:"线索交流开启中"})]})})}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[l.jsxs("div",{className:"flex h-2rem gap-2",children:[l.jsx(n,{icon:l.jsx(R,{})}),l.jsxs("div",{className:"flex flex-column justify-content-end flex-grow-1 gap-1",children:[l.jsxs("div",{className:"flex align-items-baseline gap-1",children:[l.jsx("div",{className:"text-lg",style:{color:"orange"},children:e.clue.own}),l.jsx("div",{className:"text-xs",children:"/"}),l.jsx("div",{className:"text-xs",children:"10"}),l.jsx("div",{className:"flex-grow-1"}),l.jsxs("div",{className:"flex gap-1",style:{color:"transparent"},children:[l.jsx(G,{style:{color:a("RHINE")}}),l.jsx(U,{style:{color:a("PENGUIN")}}),l.jsx(O,{style:{color:a("BLACKSTEEL")}}),l.jsx(T,{style:{color:a("URSUS")}}),l.jsx(z,{style:{color:a("GLASGOW")}}),l.jsx(B,{style:{color:a("KJERAG")}}),l.jsx(F,{style:{color:a("RHODES")}})]})]}),l.jsx(me,{value:10*e.clue.own,color:"orange"})]})]}),l.jsx(we,{chars:e.chars,max:2,method:s})]})]})},ke=({model:e,method:s})=>{const a=2**(e.level-1)*60+10*(2**(e.level-1)-1);return l.jsxs(l.Fragment,{children:[l.jsx(pe,{title:"发电站",level:e.level,children:l.jsxs("div",{className:"flex text-sm align-items-center gap-1",style:{color:"greenyellow"},children:[l.jsx(E,{}),l.jsx("div",{children:a})]})}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[l.jsxs("div",{className:"flex h-2rem gap-2",children:[l.jsx(n,{icon:l.jsx(Z,{})}),l.jsx("div",{className:"flex align-items-center flex-grow-1 gap-2",children:l.jsx(me,{className:"flex-grow-1 h-full",indeterminate:!0,color:"greenyellow"})})]}),l.jsx(we,{chars:e.chars,max:1,method:s})]})]})},Se=({model:e,method:s})=>{const[r,c]=a.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx(pe,{title:"贸易站",level:e.level,children:l.jsx(d,{className:"text-sm p-0",icon:l.jsx(Y,{className:"mr-1"}),label:"订单",text:!0,onClick:()=>c(!0),disabled:0==e.stock.length,style:{color:0==e.stock.length?"grey":"deepskyblue"}})}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[l.jsxs("div",{className:"flex h-2rem gap-2 select-none",children:[l.jsx(n,{icon:l.jsx(J,{})}),l.jsxs("div",{className:"flex flex-column justify-content-end flex-grow-1 gap-1",children:[l.jsxs("div",{className:"flex align-items-baseline gap-1",children:[l.jsx("div",{className:"text-lg",style:{color:"deepskyblue"},children:e.stock.length}),l.jsx("div",{className:"text-xs",children:"/"}),l.jsx("div",{className:"text-xs",children:e.stockLimit}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{className:"flex align-items-center gap-1",children:l.jsx("div",{className:"text-sm",style:{color:"O_GOLD"==e.strategy?"deepskyblue":"tomato"},children:"O_GOLD"==e.strategy?"龙门商法":"开采协力"})})]}),l.jsx(me,{value:e.stock.length/e.stockLimit*100,color:"deepskyblue"})]})]}),l.jsx(we,{chars:e.chars,max:3,method:s})]}),l.jsx(x,{header:"订单",headerClassName:"select-none",style:{width:"55rem"},onHide:()=>c(!1),visible:r,resizable:!1,draggable:!1,children:l.jsx(o,{value:e.stock,itemTemplate:e=>l.jsxs("div",{className:"flex flex-column w-8rem flex-shrink-0 surface-0 border-round-lg m-2 select-none",children:[l.jsxs("div",{className:"flex align-items-center p-2",style:{color:"deepskyblue"},children:[l.jsx("div",{className:"text-xs",children:"O_GOLD"==e.type?"贵金属订单":"源石订单"}),l.jsx("div",{className:"flex-grow-1"}),l.jsx(K,{})]}),l.jsx(i,{className:"m-0",type:"dashed"}),l.jsxs("div",{className:"flex flex-column p-2",children:[l.jsx("div",{className:"flex text-xl",children:l.jsx(Q,{})}),l.jsx("div",{className:"flex text-6xl justify-content-center",children:e.delivery[0].count}),l.jsx("div",{className:"flex text-sm justify-content-end",style:{color:"gold"},children:3003==e.delivery[0].id?"赤金":"源石碎片"})]}),l.jsx(i,{className:"m-0",type:"dashed"}),l.jsxs("div",{className:"flex text-sm align-items-center p-2 gap-1",children:[l.jsx(t,{width:"24",src:"GOLD"==e.gain.type?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNy4xLWMwMDAgNzkuYTg3MzFiOSwgMjAyMS8wOS8wOS0wMDozNzozOCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDIzLjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyMy0wOC0wM1QxMzowMjo1NCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjMtMDgtMDNUMTM6MDQ6MDIrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjMtMDgtMDNUMTM6MDQ6MDIrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjc3ZDc3MmE5LTZlMzUtNDM0MC05NjAwLTJlNjc4NjQ3ZjZmNSIgeG1wTU06RG9jdW1lbnRJRD0i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":"/Enhance-for-Skland/static/png/ab127956.png"}),l.jsx("div",{children:e.gain.count}),l.jsx("div",{className:"flex-grow-1"}),l.jsx(H,{className:"text-xl"})]})]}),numScroll:5,numVisible:5})})]})},De=({model:e,method:s})=>{const a=()=>e.trainee&&-1!=e.trainee.targetSkill?s.getSkillLevel(e.trainee.charId,e.trainee.targetSkill):-1,r=s=>e.trainee&&a()>=s?100:0,c=s=>0!=e.remainSecs&&a()==s-1;return l.jsxs(l.Fragment,{children:[l.jsx(pe,{title:"训练室",level:e.level}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"flex flex-column gap-2 p-2",children:[l.jsxs("div",{className:"flex h-2rem gap-2",children:[l.jsx("div",{className:"flex surface-d border-round-lg overflow-hidden",children:e.trainee?l.jsx(n,{image:s.getAvatar(e.trainee.charId)}):l.jsx(n,{icon:l.jsx(W,{})})}),e.trainee&&-1!=e.trainee.targetSkill?l.jsx(n,{image:s.getSkillIcon(e.trainee.charId,e.trainee.targetSkill)}):l.jsx(n,{}),l.jsx(me,{className:"flex-grow-1 h-full",color:"lightgreen",value:r(0),indeterminate:c(1)}),l.jsx(me,{className:"flex-grow-1 h-full",color:"gold",value:r(1),indeterminate:c(2)}),l.jsx(me,{className:"flex-grow-1 h-full",color:"tomato",value:r(2),indeterminate:c(3)})]}),l.jsx(we,{chars:e.trainer&&[e.trainer],max:1,method:s})]})]})},Le=({model:e})=>{const{building:s,chars:a,charInfoMap:r}=e,{control:c,dormitories:t,hire:n,labor:d,manufactures:x,meeting:o,powers:m,tradings:h,training:j}=s,g=e=>a.find((s=>s.charId==e)),v={getAvatar:e=>{const s=g(e);if(s)return xe(s.skinId)},getName:e=>r[e].name,getSkillIcon:(e,s)=>{const l=g(e);return oe(l.skills[s].id)},getSkillLevel:(e,s)=>g(e).skills[s].specializeLevel},u=e=>{const s=s=>s.slotId==e,a=t.find(s);if(a)return l.jsx(be,{model:a,method:v});const r=x.find(s);if(r)return l.jsx(Ie,{model:r,method:v});const c=m.find(s);if(c)return l.jsx(ke,{model:c,method:v});const i=h.find(s);return i?l.jsx(Se,{model:i,method:v}):void 0},N=Ne.DroneCorrect?Math.min(Math.round((Date.now()/1e3-d.lastUpdateTime)/360+d.value),d.maxValue):d.value;return l.jsxs("div",{className:"flex flex-column surface-card border-round-xl",children:[l.jsxs("div",{className:"flex align-items-baseline gap-2 select-none p-3",children:[l.jsx("div",{className:"text-xl",children:"基建"}),l.jsx("div",{className:"text-sm",children:"RHODES ISLAND INFRASTRUCTURE COMPLEX"}),l.jsx("div",{className:"flex-grow-1"}),l.jsxs("div",{className:"flex flex-column w-6rem",children:[l.jsxs("div",{className:"flex align-items-baseline gap-1",children:[l.jsx(P,{className:"text-purple-300"}),l.jsx("div",{className:"text-purple-300",children:N}),l.jsx("div",{className:"text-xs",children:"/"}),l.jsx("div",{className:"text-xs",children:d.maxValue})]}),l.jsx(me,{value:N/d.maxValue*100,color:"var(--purple-300)"})]})]}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"grid flex-wrap p-3",children:[l.jsx(fe,{className:"col-12",children:l.jsx(ye,{model:c,method:v})}),l.jsx(fe,{className:"col-4",children:u("slot_24")}),l.jsx(fe,{className:"col-4",children:u("slot_25")}),l.jsx(fe,{className:"col-4",children:u("slot_26")}),l.jsx(fe,{className:"col-4",children:u("slot_14")}),l.jsx(fe,{className:"col-4",children:u("slot_15")}),l.jsx(fe,{className:"col-4",children:u("slot_16")}),l.jsx(fe,{className:"col-4",children:u("slot_5")}),l.jsx(fe,{className:"col-4",children:u("slot_6")}),l.jsx(fe,{className:"col-4",children:u("slot_7")}),l.jsx(fe,{className:"col-4",children:l.jsx(Ce,{model:o,method:v})}),l.jsx(fe,{className:"col-4",children:l.jsx(Ae,{model:n,method:v})}),l.jsx(fe,{className:"col-4",children:l.jsx(De,{model:j,method:v})}),l.jsx(fe,{className:"col-12",children:u("slot_28")}),l.jsx(fe,{className:"col-12",children:u("slot_20")}),l.jsx(fe,{className:"col-12",children:u("slot_9")}),l.jsx(fe,{className:"col-12",children:u("slot_3")})]})]})};var Me=(e=>(e.DateOnly="$1$2-$3-$4",e.NoSecondsDatetime="$1$2-$3-$4 $5:$6",e.NoSecondsTimeOnly="$5:$6",e.NoYearDateOnly="$3-$4",e.NoYearNoSecondsDatetime="$3-$4 $5:$6",e.ShortYearNoSecondsDatetime="$2-$3-$4 $5:$6",e.ShortYearDateOnly="$2-$3-$4",e.ShortYearDatetime="$2-$3-$4 $5:$6:$7",e.TimeOnly="$5:$6:$7",e))(Me||{});const Re=(e,s)=>{(null==s?void 0:s.sec)&&(e*=1e3);return new Date(e).toISOString().replace(/(\d{2})(\d{2})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}).(\d{3})Z/,(null==s?void 0:s.format)||"$1$2-$3-$4 $5:$6:$7").replace(/-/,(null==s?void 0:s.dateSeq)||"-").replace(/:/,(null==s?void 0:s.timeSeq)||":")},Ge=({model:e,channel:s})=>{const{building:r,campaign:c,chars:d,charInfoMap:x,routine:o,status:m,skins:h,tower:j}=e,g=Ne.ApCorrect?(()=>{const e=m.ap.max-Math.ceil((m.ap.completeRecoveryTime-Date.now()/1e3)/360);return Math.max(m.ap.current,e)})():m.ap.current,v=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex surface-d border-round-lg overflow-hidden",children:l.jsx(n,{image:xe(m.avatar.id),size:"large"})}),l.jsxs("div",{className:"flex flex-column gap-1",children:[l.jsxs("div",{className:"flex align-items-center gap-2",children:[l.jsx("div",{className:"text-xl",children:m.name}),2==s&&l.jsx(t,{className:"w-1rem",width:"100%",src:"https://www.bilibili.com/favicon.ico"})]}),l.jsxs("div",{className:"flex text-xs gap-2",children:[l.jsxs("div",{className:"bg-primary-900 border-round tag select-none text-white",children:["Lv.",m.level]}),l.jsxs("div",{className:"surface-d border-round tag",children:["UID:",m.uid]})]})]})]}),u=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs text-600 select-none",children:"理智"}),l.jsx("div",{className:"flex-grow-1"}),l.jsxs("div",{className:"flex align-items-baseline gap-1",children:[l.jsx("div",{className:"text-xl text-primary",children:g>m.ap.max?m.ap.max:g}),l.jsx("div",{className:"text-xs text-600",children:"/"}),l.jsx("div",{className:"text-xs text-600",children:m.ap.max})]}),l.jsx(me,{value:g/m.ap.max*100})]}),N=l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex text-xs text-600 select-none",children:[l.jsx("div",{children:"入职时间"}),l.jsx("div",{className:"flex-grow-1"}),l.jsxs("div",{children:["已苏醒 ",Math.ceil((Date.now()/1e3-m.registerTs)/86400)," 天"]})]}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{className:"text-xl text-primary",children:Re(m.registerTs,{format:Me.ShortYearNoSecondsDatetime,sec:!0})})]}),f=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs text-600 select-none",children:"作战进度"}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{className:"text-xl text-primary",children:m.mainStageProgress||"全部完成"})]}),p=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs text-600 select-none",children:"助理干员"}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{className:"text-xl text-primary",children:x[m.secretary.charId].name})]}),w=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex text-xs text-600 select-none",children:"家具保有量"}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{className:"text-xl text-primary",children:r.furniture.total})]}),y=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs text-600 select-none",children:"干员招募数"}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{className:"text-xl text-primary",children:d.find((e=>"char_1001_amiya2"===e.charId))?d.length-1:d.length})]}),b=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs text-600 select-none",children:"时装拥有数"}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{className:"text-xl text-primary",children:h.length})]}),A=l.jsx("div",{className:"flex flex-grow-1 -m-2",children:l.jsxs("div",{className:"flex flex-column col",children:[l.jsx("div",{className:"text-xs text-600 select-none",children:"日常周常"}),l.jsx("div",{className:"flex-grow-1"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex flex-grow-1 align-items-baseline",children:[l.jsx("div",{className:"text-lg text-primary",children:o.daily.current}),l.jsxs("div",{className:"text-xs text-600",children:["/",o.daily.total]})]}),l.jsxs("div",{className:"flex flex-grow-1 align-items-baseline",children:[l.jsx("div",{className:"text-lg text-primary",children:o.weekly.current}),l.jsxs("div",{className:"text-xs text-600",children:["/",o.weekly.total]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{className:"flex-grow-1",value:o.daily.current/o.daily.total*100}),l.jsx(me,{className:"flex-grow-1",value:o.weekly.current/o.weekly.total*100})]})]})}),I=l.jsx("div",{className:"flex flex-grow-1 -m-2",children:l.jsxs("div",{className:"flex flex-column col",children:[l.jsx("div",{className:"text-xs text-600 select-none",children:"保全派驻"}),l.jsx("div",{className:"flex-grow-1"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("div",{className:"flex flex-grow-1 align-items-baseline",children:[l.jsx("div",{className:"text-lg text-purple-300",children:j.reward.lowerItem.current}),l.jsxs("div",{className:"text-xs text-600",children:["/",j.reward.lowerItem.total]})]}),l.jsxs("div",{className:"flex flex-grow-1 align-items-baseline",children:[l.jsx("div",{className:"text-lg",style:{color:"gold"},children:j.reward.higherItem.current}),l.jsxs("div",{className:"text-xs text-600",children:["/",j.reward.higherItem.total]})]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(me,{className:"flex-grow-1",color:"var(--purple-300)",value:j.reward.lowerItem.current/j.reward.lowerItem.total*100}),l.jsx(me,{className:"flex-grow-1",color:"gold",value:j.reward.higherItem.current/j.reward.higherItem.total*100})]})]})}),C=l.jsx("div",{className:"flex flex-grow-1 -m-2",children:l.jsxs("div",{className:"flex flex-column col",children:[l.jsx("div",{className:"text-xs text-600 select-none",children:"剿灭作战"}),l.jsx("div",{className:"flex-grow-1"}),l.jsxs("div",{className:"flex align-items-baseline text-xl",children:[l.jsx("div",{className:"text-lg text-red-500",children:c.reward.current}),l.jsx("div",{className:"text-xs text-600",children:"/"}),l.jsx("div",{className:"text-xs text-600",children:c.reward.total})]}),l.jsx("div",{className:"flex gap-1",children:l.jsx(me,{className:"flex-grow-1",color:"var(--red-500)",value:c.reward.current/c.reward.total*100})})]})}),k=(...e)=>l.jsxs("div",{className:"flex h-4rem",children:[l.jsx("div",{className:"flex flex-column col h-full",children:e.shift()}),e.map(((e,s)=>l.jsxs(a.Fragment,{children:[l.jsx(i,{className:"m-0",layout:"vertical"}),l.jsx("div",{className:"flex flex-column col h-full",children:e})]},s)))]});return l.jsxs("div",{className:"flex flex-column surface-card border-round-xl shadow-2",children:[l.jsxs("div",{className:"flex h-4rem",children:[l.jsx("div",{className:"flex align-items-center flex-shrink-0 w-8 gap-2 p-2",children:v}),l.jsx(i,{className:"m-0",layout:"vertical"}),l.jsx("div",{className:"flex flex-column flex-shrink-0 col h-full",children:u})]}),l.jsx(i,{className:"m-0"}),k(N,f,p),l.jsx(i,{className:"m-0"}),k(w,y,b,A,I,C)]})},Ue={1:"近卫干员",2:"狙击干员",3:"重装干员",4:"医疗干员",5:"辅助干员",6:"术师干员",7:"特种干员",8:"先锋干员",9:"近战位",10:"远程位",11:"高级资深干员",12:"控场",13:"爆发",14:"资深干员",15:"治疗",16:"支援",17:"新手",18:"费用回复",19:"输出",20:"生存",21:"群攻",22:"防护",23:"减速",24:"削弱",25:"快速复活",26:"位移",27:"召唤",28:"支援机械"},Oe=e=>{switch(e){case 28:return"gray";case 7:case 12:case 13:case 16:case 24:case 25:case 26:return"mediumslateblue";case 14:case 27:return"orange";case 11:return"tomato"}return"transparent"},Te=({model:e})=>{const{building:s,recruit:a}=e,r=(e,s)=>{const a=()=>{switch(e.state){case 1:return 0;case 3:return 100;case 2:const s=e.finishTs-Date.now()/1e3;return s<=0?100:(e.duration-s)/e.duration*100}};return l.jsxs("div",{className:"flex col surface-0 border-round-lg gap-2",children:[l.jsx(n,{label:s.toString()}),l.jsxs("div",{className:"flex flex-column flex-grow-1 justify-content-end gap-1",children:[l.jsxs("div",{className:"flex align-items-center gap-1",children:[e.selectTags.map((({tagId:e})=>l.jsx("div",{className:"text-xs surface-d border-round overflow-hidden",children:l.jsx("div",{className:"tag",style:{background:Oe(e)},children:Ue[e]||`Tag_${e}`})},e))),l.jsx("div",{className:"flex-grow-1"})]}),l.jsx(me,{value:a()})]}),l.jsx(n,{icon:(()=>{const s=l.jsx(V,{style:{color:"lightblue"}}),r=l.jsx($,{className:"p-icon-spin",style:{color:"gold"}}),c=l.jsx(_,{style:{color:"lightgreen"}});switch(e.state){case 1:return s;case 2:return 100==a()?c:r;case 3:return c}})()})]})};return l.jsxs("div",{className:"flex flex-column surface-card border-round-xl shadow-2",children:[l.jsxs("div",{className:"flex align-items-baseline gap-2 select-none p-3",children:[l.jsx("div",{className:"text-xl",children:"公开招募"}),l.jsx("div",{className:"text-sm",children:"NORMAL GACHA"}),l.jsx("div",{className:"flex-grow-1"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("div",{children:"联络次数"}),l.jsx(m,{className:"gap-1 text-primary",stars:3,cancel:!1,value:s.hire.refreshCount,onIcon:l.jsx(X,{className:"p-icon-spin"}),offIcon:l.jsx(X,{className:"text-300"}),readOnly:!0})]})]}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"flex flex-column gap-3 p-3",children:[l.jsxs("div",{className:"flex gap-3",children:[r(a[0],1),r(a[1],2)]}),l.jsxs("div",{className:"flex gap-3",children:[r(a[2],3),r(a[3],4)]})]})]})};var ze=(e=>(e[e.SWITCH=0]="SWITCH",e))(ze||{});const Be=e=>{var s;const a=e=>{const{type:s,value:a,key:r}=e;if(0===s)return l.jsx(h,{checked:a[r],onChange:e=>a[r]=e.value})};return l.jsxs("div",{className:"flex flex-column surface-0 border-round-xl select-none",children:[l.jsxs("div",{className:"flex text-lg align-items-center gap-2 p-3",children:[l.jsx(n,{icon:e.icon}),l.jsx("div",{children:e.header})]}),l.jsx(i,{className:"m-0"}),l.jsx("div",{className:"flex flex-column gap-2 p-3",children:null==(s=e.value)?void 0:s.map(((e,s)=>((e,s)=>l.jsxs(l.Fragment,{children:[0!==s&&l.jsx(i,{className:"mt-2",type:"dashed"}),l.jsxs("div",{className:"flex flex-column gap-1",children:[l.jsxs("div",{className:"flex align-items-center",children:[l.jsx("div",{children:e.label}),l.jsx("div",{className:"flex-grow-1"}),l.jsx("div",{children:a(e)})]}),e.detail&&l.jsx("div",{className:"text-sm text-300",children:e.detail})]},e.key)]}))(e,s)))})]})};Be.defaultProps={icon:l.jsx(q,{})};const Fe=re(Be),Ee=e=>{const s=[{detail:"通过算法对理智值进行重新计算，通常情况下它能够使网页中显示的理智尽可能的接近游戏中的实际值。默认值：true",key:"ApCorrect",label:"理智修正",type:ze.SWITCH,value:Ne},{detail:"通过算法对无人机数量进行重新计算，通常情况下它能够使网页中显示的理智尽可能的接近游戏中的实际值，由于受到基建技能影响，修正值可能低于实际值。默认值：false",key:"DroneCorrect",label:"无人机数量修正",type:ze.SWITCH,value:Ne}];return l.jsx(x,{header:e.header,headerClassName:"select-none",onHide:e.onHide,visible:e.visible,resizable:!1,draggable:!1,style:{width:"55rem"},children:l.jsx("div",{className:"flex flex-column gap-3",children:l.jsx(Fe,{header:"实验性设置",icon:l.jsx(ee,{}),value:s})})})};const Ze=new class{constructor(){s(this,"_user"),A(this)}get user(){return this._user}set user(e){this._user=e}},Ye=()=>{const e=ie(),{state:{uid:s,channel:r}}=te(),[c,i]=a.useState(),[t,n]=a.useState(!1);j((()=>{const l=ue("CurrentLogin");l?(Ze.user=l.user,(async(e,s)=>{const l={url:"/api/v1/game/player/info",params:{uid:s},headers:{cred:e}},{data:{data:a}}=await ce(l);return a})(l.cred,s).then((e=>i(e)))):e("/")}));const x=l.jsx("div",{className:"flex text-sm surface-card border-round-xl center select-none",children:"查询结果可能与游戏内数据存在亿点延迟，具体请以游戏内数据为准。"}),o=l.jsxs("div",{className:"flex gap-2",children:[l.jsx(d,{className:"w-2rem h-2rem",icon:l.jsx(X,{}),onClick:()=>location.reload(),outlined:!0}),l.jsx(d,{className:"w-2rem h-2rem",icon:l.jsx(q,{}),onClick:()=>n(!0),outlined:!0})]});return l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex flex-column gap-4",children:c?l.jsxs("div",{className:"flex flex-column gap-2",children:[l.jsx("div",{className:"grid",children:l.jsx("div",{className:"col-12",children:l.jsx(g,{className:"border-round-xl shadow-2",start:x,end:o})})}),l.jsxs("div",{className:"grid",children:[l.jsxs("div",{className:"flex flex-column col-8 gap-3",children:[l.jsx(Ge,{model:c,channel:r}),l.jsx(Te,{model:c})]}),l.jsx("div",{className:"flex flex-column col-4 gap-3",children:l.jsx(je,{model:c})})]}),l.jsx("div",{className:"grid",children:l.jsx("div",{className:"col-12",children:l.jsx(Le,{model:c})})})]}):l.jsx("div",{className:"flex flex-grow-1 center",children:"Loading"})}),l.jsx(Ee,{header:"设置",onHide:()=>n(!1),visible:t})]})},Je=({value:e})=>{const s=ie();return l.jsxs("div",{className:"flex flex-column surface-card shadow-2 border-round-2xl",children:[l.jsxs("div",{className:"flex align-items-baseline select-none gap-2 p-3",children:[l.jsx("div",{className:"text-2xl",children:e.appName}),l.jsxs("div",{className:"text-sm",children:["查询到 ",e.bindingList.length," 个角色"]})]}),l.jsx(i,{className:"m-0"}),l.jsx("div",{className:"flex flex-column gap-2 p-3",children:e.bindingList.map(((a,r)=>l.jsxs("div",{className:"flex align-items-center surface-0 border-round-lg gap-2 p-2",children:[l.jsx("div",{className:"flex center text-xs surface-d border-round select-none tag",style:{width:"2.5rem"},children:a.channelName.toUpperCase()}),l.jsx("div",{children:a.nickName}),l.jsxs("div",{className:"text-xs surface-d border-round select-none tag",children:["UID: ",a.uid]}),a.isDefault&&l.jsx("div",{className:"text-xs bg-primary-900 border-round select-none tag",children:"默认角色"}),l.jsx("div",{className:"flex-grow-1"}),l.jsx(d,{className:"w-2rem h-2rem",icon:l.jsx(v,{}),outlined:!0,onClick:()=>{return l=a.uid,r=a.channelMasterId,void s(`/${e.appCode}/info`,{state:{uid:l,channel:r}});var l,r}})]},r)))})]})},Ke=()=>{const e=ie(),[s,r]=a.useState();return j((()=>{const s=ue("CurrentLogin");s?(Ze.user=s.user,(async e=>{const s={url:"/api/v1/game/player/binding",headers:{cred:e}},{data:{data:{list:l}}}=await ce(s);return 0!==l.length?l:void 0})(s.cred).then((e=>r(e)))):e("/")})),l.jsx(l.Fragment,{children:s&&s.map(((e,s)=>l.jsx(Je,{value:e},s)))})},Qe=()=>{const e=ie(),s=a.useRef(null),[r,c]=a.useState(""),[t,x]=a.useState(!1),[o,m]=a.useState(!1),[h,g]=a.useState(),[y,b]=a.useState(),A=async(s,l)=>{var a,r;ve("LastLogin",{cred:s,user:l}),a="CurrentLogin",r={cred:s,user:l},sessionStorage.setItem(a,JSON.stringify(r)),Ze.user=l,e("/binding")};a.useEffect((()=>{m(32!==r.length)}),[r]),j((()=>{b(ge("LastLogin"))}));const I=l.jsx(l.Fragment,{children:l.jsxs("div",{className:"flex flex-column surface-0 border-round-lg gap-2 p-2",children:[l.jsx(p,{severity:"success",children:"方法一"}),l.jsxs("div",{className:"flex align-items-center gap-1",children:[l.jsx("div",{children:"1. 打开"}),l.jsx(d,{className:"px-1 py-0",icon:l.jsx(se,{className:"mr-2",size:20}),label:"森空岛网页版",text:!0,onClick:()=>open("https://www.skland.com/")}),l.jsx("div",{children:"并登录。"})]}),l.jsxs("div",{className:"flex align-items-center gap-1",children:[l.jsx("div",{children:"2. 打开网页开发工具并切换到"}),l.jsx(p,{children:"应用程序"}),l.jsx("div",{children:"选项卡"})]}),l.jsxs("div",{className:"flex align-items-center gap-1",children:[l.jsx("div",{children:"3. 选择"}),l.jsxs(p,{children:["存储 ","->"," 本地存储 ","->"," https://www.skland.com"]})]}),l.jsxs("div",{className:"flex align-items-center gap-1",children:[l.jsx("div",{children:"4. 右侧面板中"}),l.jsx(p,{children:"SK_OAUTH_CRED_KEY"}),l.jsx("div",{children:"的值就是您的凭据。"})]}),l.jsx(p,{severity:"success",children:"方法二"}),l.jsxs("div",{className:"flex align-items-center gap-1",children:[l.jsx("div",{children:"1. 打开"}),l.jsx(d,{className:"px-1 py-0",icon:l.jsx(se,{className:"mr-2",size:20}),label:"森空岛网页版",text:!0,onClick:()=>open("https://www.skland.com/")}),l.jsx("div",{children:"并登录。"})]}),l.jsxs("div",{className:"flex align-items-center gap-1",children:[l.jsx("div",{children:"2. 打开网页开发工具并切换到"}),l.jsx(p,{children:"控制台"}),l.jsx("div",{children:"选项卡"})]}),l.jsxs("div",{className:"flex flex-column gap-1",children:[l.jsx("div",{children:"3. 在控制台中输入以下内容并回车："}),l.jsx(w,{value:'localStorage.getItem("SK_OAUTH_CRED_KEY");',autoResize:!0,readOnly:!0,rows:1})]}),l.jsx("div",{className:"flex",children:"4. 控制台返回的值就是您的凭据。"}),l.jsx(p,{severity:"success",children:"方法三"}),l.jsxs("div",{className:"flex align-items-center gap-1",children:[l.jsx("div",{children:"1. 打开"}),l.jsx(d,{className:"px-1 py-0",icon:l.jsx(se,{className:"mr-2",size:20}),label:"森空岛网页版",text:!0,onClick:()=>open("https://www.skland.com/")}),l.jsx("div",{children:"并登录。"})]}),l.jsxs("div",{className:"flex flex-column gap-1",children:[l.jsx("div",{children:"2. 在浏览器地址栏中输入以下内容并回车："}),l.jsx(w,{value:'javascript:prompt(undefined, localStorage.getItem("SK_OAUTH_CRED_KEY"));',autoResize:!0,readOnly:!0})]}),l.jsx("div",{className:"flex",children:"3. 浏览器弹出的对话框内的值就是您的凭据。"}),l.jsx(p,{severity:"warning",children:"请妥善保管您的凭据，切勿透露给他人！"})]})});return l.jsxs("div",{className:"flex flex-column surface-card border-round-xl",children:[l.jsx(u,{ref:s,position:"bottom-right"}),l.jsxs("div",{className:"flex align-items-baseline gap-2 p-3 select-none",children:[l.jsx("div",{className:"text-xl",children:"凭据"}),l.jsx("div",{className:"text-sm",children:"CREDENTIALS"})]}),l.jsx(i,{className:"m-0"}),l.jsxs("div",{className:"flex",children:[l.jsxs("div",{className:"flex flex-column flex-shrink-0 w-6 gap-2 p-3 select-none",children:[!h&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-sm",children:"输入凭据"}),l.jsxs("div",{className:"p-inputgroup",children:[l.jsx(N,{value:r,onChange:e=>c(e.target.value),keyfilter:/\w/,type:"password",maxLength:32,readOnly:t}),l.jsx(d,{icon:l.jsx(f,{}),loading:t,onClick:async()=>{var e,l;if(32===r.length){x(!0),g(void 0);try{g(await(async e=>{const s={url:"/api/v1/user/me",headers:{cred:e}},{data:{data:l}}=await ce(s);return l})(r))}catch(a){const r=a;switch(r.code){case"ERR_NETWORK":null==(e=s.current)||e.show({severity:"error",summary:r.code,detail:"网络异常"});break;case"ERR_BAD_REQUEST":null==(l=s.current)||l.show({severity:"error",summary:r.code,detail:"无效凭据"})}}finally{x(!1)}}},disabled:o})]})]}),h&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-sm",children:"确认账户"}),l.jsxs("div",{className:"flex align-items-center surface-0 border-round-lg gap-2 p-2",children:[l.jsx("div",{className:"flex surface-d border-round-lg overflow-hidden",children:l.jsx(n,{image:h.user.avatar})}),l.jsx("div",{className:"text-lg",children:h.user.nickname}),l.jsx("div",{className:"flex-grow-1"}),l.jsx(d,{className:"w-2rem h-2rem",severity:"success",icon:l.jsx(v,{}),onClick:()=>A(r,h)})]}),l.jsx("div",{className:"flex justify-content-end",children:l.jsx(d,{className:"text-xs p-0",severity:"danger",label:"返回上一步",text:!0,onClick:()=>g(void 0)})})]}),y&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-sm",children:"上次登录"}),l.jsxs("div",{className:"flex align-items-center surface-0 border-round-lg gap-2 p-2",children:[l.jsx("div",{className:"flex surface-d border-round-lg overflow-hidden",children:l.jsx(n,{image:y.user.user.avatar})}),l.jsx("div",{className:"text-lg",children:y.user.user.nickname}),l.jsx("div",{className:"flex-grow-1"}),l.jsx(d,{className:"w-2rem h-2rem",severity:"success",icon:l.jsx(v,{}),onClick:()=>A(y.cred,y.user)})]}),l.jsx("div",{className:"flex justify-content-end",children:l.jsx(d,{className:"text-xs p-0",severity:"danger",label:"清除登录记录",text:!0,onClick:()=>{var e;e="LastLogin",localStorage.removeItem(e),b(void 0)}})})]})]}),l.jsx(i,{className:"m-0",layout:"vertical"}),l.jsxs("div",{className:"flex flex-column w-6 gap-2 p-3 select-none",children:[l.jsx("div",{className:"text-sm",children:"如何获取凭据"}),I]})]})]})},He=(e,s,l)=>({path:e,element:s,children:l}),We=[He("binding",l.jsx(Ke,{})),He("arknights",void 0,[He("info",l.jsx(Ye,{}))]),He("",l.jsx(Qe,{}))],Pe=re((()=>{const e=ie(),s=a.useRef(null),r=[{label:"切换角色",icon:l.jsx(le,{className:"mr-2"}),command:()=>e("/binding")},{separator:!0},{label:"退出登录",icon:l.jsx(ae,{className:"mr-2"}),command:()=>{var s;s="CurrentLogin",sessionStorage.removeItem(s),Ze.user=void 0,e("/")}}];return l.jsxs("div",{className:"w-full",children:[l.jsxs("div",{className:"flex align-items-center h-4rem px-3 gap-3 surface-card select-none",children:[l.jsxs("div",{className:"flex align-items-center gap-1",children:[l.jsxs("div",{className:"flex flex-column",children:[l.jsx("div",{className:"text-xs font-italic",children:"Enhance for"}),l.jsx("div",{className:"text-2xl",style:{lineHeight:"1.75rem"},children:"Skland."})]}),l.jsx(p,{severity:"info",children:"Beta"})]}),l.jsx("div",{className:"flex-grow-1"}),Ze.user&&l.jsx(d,{className:"surface-0",onClick:e=>{var l;return null==(l=s.current)?void 0:l.toggle(e)},text:!0,children:l.jsxs("div",{className:"flex align-items-center gap-2",children:[l.jsx("div",{className:"flex border-circle overflow-hidden",children:l.jsx(n,{image:Ze.user.user.avatar})}),l.jsx("div",{children:Ze.user.user.nickname})]})}),l.jsx(y,{ref:s,className:"mt-3",model:r,popup:!0})]}),l.jsx(i,{className:"m-0"})]})})),Xe=()=>{const e=ne(We);return l.jsxs("div",{className:"flex flex-column w-full h-screen align-items-center",children:[l.jsx("div",{className:"w-full shadow-2 z-5",children:l.jsx(Pe,{})}),l.jsx(b,{className:"w-full",style:{height:"calc(100vh - 4rem)"},children:l.jsx("div",{className:"flex h-full center",children:l.jsx("div",{className:"py-8 w-full h-full",style:{maxWidth:1e3},children:e})})})]})};ce.defaults.baseURL="https://zonai.skland.com",ce.defaults.headers.platform=1,ce.defaults.headers.os=32,ce.defaults.headers.language="zh-cn",ce.defaults.headers.vName="0.1.4",ce.defaults.headers.manufacturer="Samsung",r.createRoot(document.getElementById("root")).render(l.jsx(de,{children:l.jsx(Xe,{})}));
